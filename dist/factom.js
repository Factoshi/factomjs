!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.factom=e():t.factom=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=182)}([function(t,e){var r=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(3),i=r(0),o=r(10),s=r(9),a=function(t,e,r){var u,c,f,h=t&a.F,l=t&a.G,p=t&a.S,d=t&a.P,v=t&a.B,y=t&a.W,g=l?i:i[e]||(i[e]={}),_=g.prototype,m=l?n:p?n[e]:(n[e]||{}).prototype;for(u in l&&(r=e),r)(c=!h&&m&&void 0!==m[u])&&u in g||(f=c?m[u]:r[u],g[u]=l&&"function"!=typeof m[u]?r[u]:v&&c?o(f,n):y&&m[u]==f?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):d&&"function"==typeof f?o(Function.call,f):f,d&&((g.virtual||(g.virtual={}))[u]=f,t&a.R&&_&&!_[u]&&s(_,u,f)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,r){var n=r(49)("wks"),i=r(32),o=r(3).Symbol,s="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=n},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){var n=r(8),i=r(69),o=r(44),s=Object.defineProperty;e.f=r(7)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(113),i=r(114),o=r(115);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=l(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=a(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(f(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|p(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return N(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(n)return N(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function y(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,r,n,i){var o,s=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,l=0;l<u;l++)if(c(t,o+l)!==c(e,l)){h=!1;break}if(h)return o}return-1}function _(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[r+s]=a}return s}function m(t,e,r,n){return q(N(e,t.length-r),t,r,n)}function b(t,e,r,n){return q(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return b(t,e,r,n)}function E(t,e,r,n){return q(H(e),t,r,n)}function x(t,e,r,n){return q(function(t,e){for(var r,n,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function k(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function C(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,s,a,u,c=t[i],f=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=S));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?a(t,e):void 0!==r?"string"==typeof n?a(t,e).fill(r,n):a(t,e).fill(r):a(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return C(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return k(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,s=r-e,a=Math.min(o,s),c=this.slice(n,i),f=t.slice(e,r),h=0;h<a;++h)if(c[h]!==f[h]){o=c[h],s=f[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return y(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return y(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return m(this,t,e,r);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=D(t[o]);return i}function O(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function j(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function I(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function M(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,o){return o||M(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,o){return o||M(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||j(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||j(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||j(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||j(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||j(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||j(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||j(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||j(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||j(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||j(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||j(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||j(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||j(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||j(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||j(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<r&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);P(this,t,e,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var s=u.isBuffer(t)?t:N(new u(t,n).toString()),a=s.length;for(o=0;o<r-e;++o)this[o+e]=s[o%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function D(t){return t<16?"0"+t.toString(16):t.toString(16)}function N(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(14))},function(t,e,r){t.exports=!r(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(4);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){var n=r(5),i=r(20);t.exports=r(7)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(38);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){var n=r(45),i=r(46);t.exports=function(t){return n(i(t))}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";(function(e){var n=r(89),i=r(19),o=i.RCD_TYPE_1,s=i.secretToPublicKey,a=i.sha256d,u=r(16),c=u.FACTOID_PUBLIC_PREFIX,f=u.FACTOID_PRIVATE_PREFIX,h=u.ENTRYCREDIT_PUBLIC_PREFIX,l=u.ENTRYCREDIT_PRIVATE_PREFIX,p=u.VALID_PREFIXES,d=u.PUBLIC_ADDRESS_VALID_PREFIXES,v=u.PRIVATE_ADDRESS_VALID_PREFIXES,y=u.EC_ADDRESS_VALID_PREFIXES,g=u.FCT_ADDRESS_VALID_PREFIXES;function _(t){try{if(!p.has(t.slice(0,2)))return!1;var r=e.from(n.decode(t));return 38===r.length&&!!a(r.slice(0,34)).slice(0,4).equals(r.slice(34,38))}catch(t){return!1}}function m(t){return _(t)&&"FA"===t.substring(0,2)}function b(t,r,i){var s=e.from(t,"hex");if(32!==s.length)throw new Error("Key "+s+" is not 32 bytes long.");var u=e.concat([r,i?function(t){return a(e.concat([o,t]))}(s):s]),c=a(u).slice(0,4);return n.encode(e.concat([u,c]))}function w(t){return b(t,c,!0)}function E(t){return b(t,h)}t.exports={isValidAddress:_,addressToKey:function(t){if(!_(t))throw new Error("Invalid address "+t+".");if(t.startsWith("FA"))throw new Error("A public Factoid address does not hold a public key but a RCD hash. Use addressToRcd function instead.");return e.from(n.decode(t).slice(2,34))},addressToRcd:function(t){if(!m(t))throw new Error("Address "+t+" is not a valid public Factoid address");return e.from(n.decode(t).slice(2,34))},isValidPublicAddress:function(t){return _(t)&&d.has(t.substring(0,2))},isValidPrivateAddress:function(t){return _(t)&&v.has(t.substring(0,2))},isValidEcAddress:function(t){return _(t)&&y.has(t.substring(0,2))},isValidEcPublicAddress:function(t){return _(t)&&"EC"===t.substring(0,2)},isValidEcPrivateAddress:function(t){return _(t)&&"Es"===t.substring(0,2)},isValidFctAddress:function(t){return _(t)&&g.has(t.substring(0,2))},isValidFctPublicAddress:m,isValidFctPrivateAddress:function(t){return _(t)&&"Fs"===t.substring(0,2)},getPublicAddress:function(t){if(!_(t))throw new Error("Invalid address "+t+".");if("s"!==t[1])return t;var e=n.decode(t).slice(2,34),r=s(e);return"F"===t[0]?w(r):E(r)},keyToPublicFctAddress:w,rcdHashToPublicFctAddress:function(t){return b(t,c)},keyToPrivateFctAddress:function(t){return b(t,f)},keyToPublicEcAddress:E,keyToPrivateEcAddress:function(t){return b(t,l)}}}).call(this,r(6).Buffer)},function(t,e,r){"use strict";(function(e){var n=i(r(80));function i(t){return t&&t.__esModule?t:{default:t}}var o="000000000000000000000000000000000000000000000000000000000000000a",s=new(i(r(144)).default)([[1,"DIRECTORY_BLOCK_SIGNATURE"],[2,"REVEAL_MATRYOSHKA_HASH"],[3,"ADD_REPLACE_MATRYOSHKA_HASH"],[4,"INCREASE_SERVER_COUNT"],[5,"ADD_FEDERATED_SERVER"],[6,"ADD_AUDIT_SERVER"],[7,"REMOVE_FEDERATED_SERVER"],[8,"ADD_FEDERATED_SERVER_SIGNING_KEY"],[9,"ADD_FEDERATED_SERVER_BITCOIN_ANCHOR_KEY"],[10,"SERVER_FAULT_HANDOFF"],[11,"COINBASE_DESCRIPTOR"],[12,"COINBASE_DESCRIPTOR_CANCEL"],[13,"ADD_AUTHORITY_FACTOID_ADDRESS"],[14,"ADD_AUTHORITY_EFFICIENCY"]]);t.exports={MAX_TRANSACTION_SIZE:10240,MAX_ENTRY_PAYLOAD_SIZE:10240,MAX_ENTRY_SIZE:10275,CHAIN_CREATION_COST:10,NULL_HASH:"0000000000000000000000000000000000000000000000000000000000000000",ADMIN_BLOCKS_CHAIN_ID:o,ENTRY_CREDIT_BLOCKS_CHAIN_ID:"000000000000000000000000000000000000000000000000000000000000000c",FACTOID_BLOCKS_CHAIN_ID:"000000000000000000000000000000000000000000000000000000000000000f",RESERVED_CHAIN_IDS:new n.default([o,"000000000000000000000000000000000000000000000000000000000000000c","000000000000000000000000000000000000000000000000000000000000000f"]),VALID_PREFIXES:new n.default(["Fs","FA","EC","Es"]),PUBLIC_ADDRESS_VALID_PREFIXES:new n.default(["FA","EC"]),PRIVATE_ADDRESS_VALID_PREFIXES:new n.default(["Fs","Es"]),EC_ADDRESS_VALID_PREFIXES:new n.default(["EC","Es"]),FCT_ADDRESS_VALID_PREFIXES:new n.default(["FA","Fs"]),FACTOID_PUBLIC_PREFIX:e.from("5fb1","hex"),FACTOID_PRIVATE_PREFIX:e.from("6478","hex"),ENTRYCREDIT_PUBLIC_PREFIX:e.from("592a","hex"),ENTRYCREDIT_PRIVATE_PREFIX:e.from("5db6","hex"),ADMIN_ID_TO_CODE:s}}).call(this,r(6).Buffer)},function(t,e,r){"use strict";var n=r(104)(!0);r(52)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){"use strict";var n=r(164),i=r(212),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";(function(e){var n=o(r(66)),i=o(r(77));function o(t){return t&&t.__esModule?t:{default:t}}var s=r(35).sign,a=r(139),u=r(140),c=r(142),f=e.from("01","hex"),h=a.fromString("8000000000000000",!0,16);t.exports={RCD_TYPE_1:f,sha256:function(t){return e.from(u().update(t).digest())},sha512:function(t){return e.from(c().update(t).digest())},sha256d:function(t){return e.from(u().update(u().update(t).digest()).digest())},toHex:function(t){return e.isBuffer(t)?t.toString("hex"):t},encodeVarInt:function(t){var r=[];0!==t&&"0"!==t||r.push(0);var n=a.fromValue(t,!0),i=!1;n.and(h).isZero()||(r.push(129),i=!0);for(var o=0;o<9;++o){var s=n.shiftRightUnsigned(56).toNumber();(s||i)&&(i=!0,8!==o?s|=128:s&=127,r.push(s)),n=n.shiftLeft(7)}return e.from(r)},isIterable:function(t){return null!=t&&"function"==typeof t[i.default]},flatMap:function(t,e){var r;return(r=[]).concat.apply(r,(0,n.default)(t.map(e)))},secretToPublicKey:function(t){var r=s.keyPair.fromSeed(t);return e.from(r.publicKey)}}}).call(this,r(6).Buffer)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports={}},function(t,e,r){var n=r(46);t.exports=function(t){return Object(n(t))}},function(t,e,r){var n=r(5).f,i=r(12),o=r(2)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,r){r(107);for(var n=r(3),i=r(9),o=r(21),s=r(2)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],f=n[c],h=f&&f.prototype;h&&!h[s]&&i(h,s,c),o[c]=o.Array}},function(t,e,r){var n=r(10),i=r(73),o=r(74),s=r(8),a=r(31),u=r(53),c={},f={};(e=t.exports=function(t,e,r,h,l){var p,d,v,y,g=l?function(){return t}:u(t),_=n(r,h,e?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(p=a(t.length);p>m;m++)if((y=e?_(s(d=t[m])[0],d[1]):_(t[m]))===c||y===f)return y}else for(v=g.call(t);!(d=v.next()).done;)if((y=i(v,_,d.value,e))===c||y===f)return y}).BREAK=c,e.RETURN=f},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(110));e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(t,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){var n=r(70),i=r(50);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(47),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){var n=r(32)("meta"),i=r(4),o=r(12),s=r(5).f,a=0,u=Object.isExtensible||function(){return!0},c=!r(11)(function(){return u(Object.preventExtensions({}))}),f=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[n].i},getWeak:function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[n].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!o(t,n)&&f(t),t}}},function(t,e,r){!function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=e(),a=e([1]),u=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function v(t,e,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function y(t,e,r,n){return v(t,e,r,n,16)}function g(t,e,r,n){return v(t,e,r,n,32)}function _(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,_=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,E=s,x=a,k=u,C=c,S=f,A=h,T=l,R=p,O=d,j=v,P=y,I=g,F=_,M=m,B=b,L=0;L<20;L+=2)w^=(i=(I^=(i=(R^=(i=(C^=(i=w+I|0)<<7|i>>>25)+w|0)<<9|i>>>23)+C|0)<<13|i>>>19)+R|0)<<18|i>>>14,S^=(i=(E^=(i=(F^=(i=(O^=(i=S+E|0)<<7|i>>>25)+S|0)<<9|i>>>23)+O|0)<<13|i>>>19)+F|0)<<18|i>>>14,j^=(i=(A^=(i=(x^=(i=(M^=(i=j+A|0)<<7|i>>>25)+j|0)<<9|i>>>23)+M|0)<<13|i>>>19)+x|0)<<18|i>>>14,B^=(i=(P^=(i=(T^=(i=(k^=(i=B+P|0)<<7|i>>>25)+B|0)<<9|i>>>23)+k|0)<<13|i>>>19)+T|0)<<18|i>>>14,w^=(i=(k^=(i=(x^=(i=(E^=(i=w+k|0)<<7|i>>>25)+w|0)<<9|i>>>23)+E|0)<<13|i>>>19)+x|0)<<18|i>>>14,S^=(i=(C^=(i=(T^=(i=(A^=(i=S+C|0)<<7|i>>>25)+S|0)<<9|i>>>23)+A|0)<<13|i>>>19)+T|0)<<18|i>>>14,j^=(i=(O^=(i=(R^=(i=(P^=(i=j+O|0)<<7|i>>>25)+j|0)<<9|i>>>23)+P|0)<<13|i>>>19)+R|0)<<18|i>>>14,B^=(i=(M^=(i=(F^=(i=(I^=(i=B+M|0)<<7|i>>>25)+B|0)<<9|i>>>23)+I|0)<<13|i>>>19)+F|0)<<18|i>>>14;w=w+o|0,E=E+s|0,x=x+a|0,k=k+u|0,C=C+c|0,S=S+f|0,A=A+h|0,T=T+l|0,R=R+p|0,O=O+d|0,j=j+v|0,P=P+y|0,I=I+g|0,F=F+_|0,M=M+m|0,B=B+b|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=E>>>0&255,t[5]=E>>>8&255,t[6]=E>>>16&255,t[7]=E>>>24&255,t[8]=x>>>0&255,t[9]=x>>>8&255,t[10]=x>>>16&255,t[11]=x>>>24&255,t[12]=k>>>0&255,t[13]=k>>>8&255,t[14]=k>>>16&255,t[15]=k>>>24&255,t[16]=C>>>0&255,t[17]=C>>>8&255,t[18]=C>>>16&255,t[19]=C>>>24&255,t[20]=S>>>0&255,t[21]=S>>>8&255,t[22]=S>>>16&255,t[23]=S>>>24&255,t[24]=A>>>0&255,t[25]=A>>>8&255,t[26]=A>>>16&255,t[27]=A>>>24&255,t[28]=T>>>0&255,t[29]=T>>>8&255,t[30]=T>>>16&255,t[31]=T>>>24&255,t[32]=R>>>0&255,t[33]=R>>>8&255,t[34]=R>>>16&255,t[35]=R>>>24&255,t[36]=O>>>0&255,t[37]=O>>>8&255,t[38]=O>>>16&255,t[39]=O>>>24&255,t[40]=j>>>0&255,t[41]=j>>>8&255,t[42]=j>>>16&255,t[43]=j>>>24&255,t[44]=P>>>0&255,t[45]=P>>>8&255,t[46]=P>>>16&255,t[47]=P>>>24&255,t[48]=I>>>0&255,t[49]=I>>>8&255,t[50]=I>>>16&255,t[51]=I>>>24&255,t[52]=F>>>0&255,t[53]=F>>>8&255,t[54]=F>>>16&255,t[55]=F>>>24&255,t[56]=M>>>0&255,t[57]=M>>>8&255,t[58]=M>>>16&255,t[59]=M>>>24&255,t[60]=B>>>0&255,t[61]=B>>>8&255,t[62]=B>>>16&255,t[63]=B>>>24&255}(t,e,r,n)}function m(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,d=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,v=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,_=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,m=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,b=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)o^=(i=(g^=(i=(p^=(i=(c^=(i=o+g|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+p|0)<<18|i>>>14,f^=(i=(s^=(i=(_^=(i=(d^=(i=f+s|0)<<7|i>>>25)+f|0)<<9|i>>>23)+d|0)<<13|i>>>19)+_|0)<<18|i>>>14,v^=(i=(h^=(i=(a^=(i=(m^=(i=v+h|0)<<7|i>>>25)+v|0)<<9|i>>>23)+m|0)<<13|i>>>19)+a|0)<<18|i>>>14,b^=(i=(y^=(i=(l^=(i=(u^=(i=b+y|0)<<7|i>>>25)+b|0)<<9|i>>>23)+u|0)<<13|i>>>19)+l|0)<<18|i>>>14,o^=(i=(u^=(i=(a^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,f^=(i=(c^=(i=(l^=(i=(h^=(i=f+c|0)<<7|i>>>25)+f|0)<<9|i>>>23)+h|0)<<13|i>>>19)+l|0)<<18|i>>>14,v^=(i=(d^=(i=(p^=(i=(y^=(i=v+d|0)<<7|i>>>25)+v|0)<<9|i>>>23)+y|0)<<13|i>>>19)+p|0)<<18|i>>>14,b^=(i=(m^=(i=(_^=(i=(g^=(i=b+m|0)<<7|i>>>25)+b|0)<<9|i>>>23)+g|0)<<13|i>>>19)+_|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=f>>>0&255,t[5]=f>>>8&255,t[6]=f>>>16&255,t[7]=f>>>24&255,t[8]=v>>>0&255,t[9]=v>>>8&255,t[10]=v>>>16&255,t[11]=v>>>24&255,t[12]=b>>>0&255,t[13]=b>>>8&255,t[14]=b>>>16&255,t[15]=b>>>24&255,t[16]=h>>>0&255,t[17]=h>>>8&255,t[18]=h>>>16&255,t[19]=h>>>24&255,t[20]=l>>>0&255,t[21]=l>>>8&255,t[22]=l>>>16&255,t[23]=l>>>24&255,t[24]=p>>>0&255,t[25]=p>>>8&255,t[26]=p>>>16&255,t[27]=p>>>24&255,t[28]=d>>>0&255,t[29]=d>>>8&255,t[30]=d>>>16&255,t[31]=d>>>24&255}(t,e,r,n)}var b=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(t,e,r,n,i,o,s){var a,u,c=new Uint8Array(16),f=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(_(f,c,s,b),u=0;u<64;u++)t[e+u]=r[n+u]^f[u];for(a=1,u=8;u<16;u++)a=a+(255&c[u])|0,c[u]=255&a,a>>>=8;i-=64,e+=64,n+=64}if(i>0)for(_(f,c,s,b),u=0;u<i;u++)t[e+u]=r[n+u]^f[u];return 0}function E(t,e,r,n,i){var o,s,a=new Uint8Array(16),u=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(_(u,a,i,b),s=0;s<64;s++)t[e+s]=u[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(_(u,a,i,b),s=0;s<r;s++)t[e+s]=u[s];return 0}function x(t,e,r,n,i){var o=new Uint8Array(32);m(o,n,i,b);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return E(t,e,r,s,o)}function k(t,e,r,n,i,o,s){var a=new Uint8Array(32);m(a,o,s,b);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return w(t,e,r,n,i,u,a)}var C=function(t){var e,r,n,i,o,s,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(s>>>11|a<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function S(t,e,r,n,i,o){var s=new C(o);return s.update(r,n,i),s.finish(t,e),0}function A(t,e,r,n,i,o){var s=new Uint8Array(16);return S(s,0,r,n,i,o),y(t,e,s,0)}function T(t,e,r,n,i){var o;if(r<32)return-1;for(k(t,0,e,0,r,n,i),S(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function R(t,e,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(x(s,0,32,n,i),0!==A(e,16,e,32,r-32,s))return-1;for(k(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function O(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function j(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function P(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function I(t,r){var n,i,o,s=e(),a=e();for(n=0;n<16;n++)a[n]=r[n];for(j(a),j(a),j(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,P(a,s,1-o)}for(n=0;n<16;n++)t[2*n]=255&a[n],t[2*n+1]=a[n]>>8}function F(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return I(r,t),I(n,e),g(r,0,n,0)}function M(t){var e=new Uint8Array(32);return I(e,t),1&e[0]}function B(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function L(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function U(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function D(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,f=0,h=0,l=0,p=0,d=0,v=0,y=0,g=0,_=0,m=0,b=0,w=0,E=0,x=0,k=0,C=0,S=0,A=0,T=0,R=0,O=0,j=0,P=0,I=0,F=0,M=0,B=r[0],L=r[1],U=r[2],D=r[3],N=r[4],H=r[5],q=r[6],V=r[7],z=r[8],Y=r[9],K=r[10],W=r[11],X=r[12],G=r[13],$=r[14],Q=r[15];o+=(n=e[0])*B,s+=n*L,a+=n*U,u+=n*D,c+=n*N,f+=n*H,h+=n*q,l+=n*V,p+=n*z,d+=n*Y,v+=n*K,y+=n*W,g+=n*X,_+=n*G,m+=n*$,b+=n*Q,s+=(n=e[1])*B,a+=n*L,u+=n*U,c+=n*D,f+=n*N,h+=n*H,l+=n*q,p+=n*V,d+=n*z,v+=n*Y,y+=n*K,g+=n*W,_+=n*X,m+=n*G,b+=n*$,w+=n*Q,a+=(n=e[2])*B,u+=n*L,c+=n*U,f+=n*D,h+=n*N,l+=n*H,p+=n*q,d+=n*V,v+=n*z,y+=n*Y,g+=n*K,_+=n*W,m+=n*X,b+=n*G,w+=n*$,E+=n*Q,u+=(n=e[3])*B,c+=n*L,f+=n*U,h+=n*D,l+=n*N,p+=n*H,d+=n*q,v+=n*V,y+=n*z,g+=n*Y,_+=n*K,m+=n*W,b+=n*X,w+=n*G,E+=n*$,x+=n*Q,c+=(n=e[4])*B,f+=n*L,h+=n*U,l+=n*D,p+=n*N,d+=n*H,v+=n*q,y+=n*V,g+=n*z,_+=n*Y,m+=n*K,b+=n*W,w+=n*X,E+=n*G,x+=n*$,k+=n*Q,f+=(n=e[5])*B,h+=n*L,l+=n*U,p+=n*D,d+=n*N,v+=n*H,y+=n*q,g+=n*V,_+=n*z,m+=n*Y,b+=n*K,w+=n*W,E+=n*X,x+=n*G,k+=n*$,C+=n*Q,h+=(n=e[6])*B,l+=n*L,p+=n*U,d+=n*D,v+=n*N,y+=n*H,g+=n*q,_+=n*V,m+=n*z,b+=n*Y,w+=n*K,E+=n*W,x+=n*X,k+=n*G,C+=n*$,S+=n*Q,l+=(n=e[7])*B,p+=n*L,d+=n*U,v+=n*D,y+=n*N,g+=n*H,_+=n*q,m+=n*V,b+=n*z,w+=n*Y,E+=n*K,x+=n*W,k+=n*X,C+=n*G,S+=n*$,A+=n*Q,p+=(n=e[8])*B,d+=n*L,v+=n*U,y+=n*D,g+=n*N,_+=n*H,m+=n*q,b+=n*V,w+=n*z,E+=n*Y,x+=n*K,k+=n*W,C+=n*X,S+=n*G,A+=n*$,T+=n*Q,d+=(n=e[9])*B,v+=n*L,y+=n*U,g+=n*D,_+=n*N,m+=n*H,b+=n*q,w+=n*V,E+=n*z,x+=n*Y,k+=n*K,C+=n*W,S+=n*X,A+=n*G,T+=n*$,R+=n*Q,v+=(n=e[10])*B,y+=n*L,g+=n*U,_+=n*D,m+=n*N,b+=n*H,w+=n*q,E+=n*V,x+=n*z,k+=n*Y,C+=n*K,S+=n*W,A+=n*X,T+=n*G,R+=n*$,O+=n*Q,y+=(n=e[11])*B,g+=n*L,_+=n*U,m+=n*D,b+=n*N,w+=n*H,E+=n*q,x+=n*V,k+=n*z,C+=n*Y,S+=n*K,A+=n*W,T+=n*X,R+=n*G,O+=n*$,j+=n*Q,g+=(n=e[12])*B,_+=n*L,m+=n*U,b+=n*D,w+=n*N,E+=n*H,x+=n*q,k+=n*V,C+=n*z,S+=n*Y,A+=n*K,T+=n*W,R+=n*X,O+=n*G,j+=n*$,P+=n*Q,_+=(n=e[13])*B,m+=n*L,b+=n*U,w+=n*D,E+=n*N,x+=n*H,k+=n*q,C+=n*V,S+=n*z,A+=n*Y,T+=n*K,R+=n*W,O+=n*X,j+=n*G,P+=n*$,I+=n*Q,m+=(n=e[14])*B,b+=n*L,w+=n*U,E+=n*D,x+=n*N,k+=n*H,C+=n*q,S+=n*V,A+=n*z,T+=n*Y,R+=n*K,O+=n*W,j+=n*X,P+=n*G,I+=n*$,F+=n*Q,b+=(n=e[15])*B,s+=38*(E+=n*U),a+=38*(x+=n*D),u+=38*(k+=n*N),c+=38*(C+=n*H),f+=38*(S+=n*q),h+=38*(A+=n*V),l+=38*(T+=n*z),p+=38*(R+=n*Y),d+=38*(O+=n*K),v+=38*(j+=n*W),y+=38*(P+=n*X),g+=38*(I+=n*G),_+=38*(F+=n*$),m+=38*(M+=n*Q),o=(n=(o+=38*(w+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=h,t[7]=l,t[8]=p,t[9]=d,t[10]=v,t[11]=y,t[12]=g,t[13]=_,t[14]=m,t[15]=b}function N(t,e){D(t,e,e)}function H(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)N(i,i),2!==n&&4!==n&&D(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function q(t,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),c=e(),f=e(),h=e(),l=e(),p=e(),d=e();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,B(a,n),o=0;o<16;o++)f[o]=a[o],l[o]=c[o]=h[o]=0;for(c[0]=l[0]=1,o=254;o>=0;--o)P(c,f,i=s[o>>>3]>>>(7&o)&1),P(h,l,i),L(p,c,h),U(c,c,h),L(h,f,l),U(f,f,l),N(l,p),N(d,c),D(c,h,c),D(h,f,p),L(p,c,h),U(c,c,h),N(f,c),U(h,l,d),D(c,h,u),L(c,c,l),D(h,h,c),D(c,l,d),D(l,f,a),N(f,p),P(c,f,i),P(h,l,i);for(o=0;o<16;o++)a[o+16]=c[o],a[o+32]=h[o],a[o+48]=f[o],a[o+64]=l[o];var v=a.subarray(32),y=a.subarray(16);return H(v,v),D(y,y,v),I(t,y),0}function V(t,e){return q(t,e,o)}function z(t,e){return n(e,32),V(t,e)}function Y(t,e,r){var n=new Uint8Array(32);return q(n,r,e),m(t,i,n,b)}C.prototype.blocks=function(t,e,r){for(var n,i,o,s,a,u,c,f,h,l,p,d,v,y,g,_,m,b,w,E=this.fin?0:2048,x=this.h[0],k=this.h[1],C=this.h[2],S=this.h[3],A=this.h[4],T=this.h[5],R=this.h[6],O=this.h[7],j=this.h[8],P=this.h[9],I=this.r[0],F=this.r[1],M=this.r[2],B=this.r[3],L=this.r[4],U=this.r[5],D=this.r[6],N=this.r[7],H=this.r[8],q=this.r[9];r>=16;)x+=8191&(n=255&t[e+0]|(255&t[e+1])<<8),k+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3),C+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6),S+=8191&(o>>>7|(s=255&t[e+6]|(255&t[e+7])<<8)<<9),A+=8191&(s>>>4|(a=255&t[e+8]|(255&t[e+9])<<8)<<12),T+=a>>>1&8191,R+=8191&(a>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2),O+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5),f=255&t[e+14]|(255&t[e+15])<<8,l=h=0,l+=x*I,l+=k*(5*q),l+=C*(5*H),l+=S*(5*N),h=(l+=A*(5*D))>>>13,l&=8191,l+=T*(5*U),l+=R*(5*L),l+=O*(5*B),l+=(j+=8191&(c>>>8|f<<8))*(5*M),p=h+=(l+=(P+=f>>>5|E)*(5*F))>>>13,p+=x*F,p+=k*I,p+=C*(5*q),p+=S*(5*H),h=(p+=A*(5*N))>>>13,p&=8191,p+=T*(5*D),p+=R*(5*U),p+=O*(5*L),p+=j*(5*B),h+=(p+=P*(5*M))>>>13,p&=8191,d=h,d+=x*M,d+=k*F,d+=C*I,d+=S*(5*q),h=(d+=A*(5*H))>>>13,d&=8191,d+=T*(5*N),d+=R*(5*D),d+=O*(5*U),d+=j*(5*L),v=h+=(d+=P*(5*B))>>>13,v+=x*B,v+=k*M,v+=C*F,v+=S*I,h=(v+=A*(5*q))>>>13,v&=8191,v+=T*(5*H),v+=R*(5*N),v+=O*(5*D),v+=j*(5*U),y=h+=(v+=P*(5*L))>>>13,y+=x*L,y+=k*B,y+=C*M,y+=S*F,h=(y+=A*I)>>>13,y&=8191,y+=T*(5*q),y+=R*(5*H),y+=O*(5*N),y+=j*(5*D),g=h+=(y+=P*(5*U))>>>13,g+=x*U,g+=k*L,g+=C*B,g+=S*M,h=(g+=A*F)>>>13,g&=8191,g+=T*I,g+=R*(5*q),g+=O*(5*H),g+=j*(5*N),_=h+=(g+=P*(5*D))>>>13,_+=x*D,_+=k*U,_+=C*L,_+=S*B,h=(_+=A*M)>>>13,_&=8191,_+=T*F,_+=R*I,_+=O*(5*q),_+=j*(5*H),m=h+=(_+=P*(5*N))>>>13,m+=x*N,m+=k*D,m+=C*U,m+=S*L,h=(m+=A*B)>>>13,m&=8191,m+=T*M,m+=R*F,m+=O*I,m+=j*(5*q),b=h+=(m+=P*(5*H))>>>13,b+=x*H,b+=k*N,b+=C*D,b+=S*U,h=(b+=A*L)>>>13,b&=8191,b+=T*B,b+=R*M,b+=O*F,b+=j*I,w=h+=(b+=P*(5*q))>>>13,w+=x*q,w+=k*H,w+=C*N,w+=S*D,h=(w+=A*U)>>>13,w&=8191,w+=T*L,w+=R*B,w+=O*M,w+=j*F,x=l=8191&(h=(h=((h+=(w+=P*I)>>>13)<<2)+h|0)+(l&=8191)|0),k=p+=h>>>=13,C=d&=8191,S=v&=8191,A=y&=8191,T=g&=8191,R=_&=8191,O=m&=8191,j=b&=8191,P=w&=8191,e+=16,r-=16;this.h[0]=x,this.h[1]=k,this.h[2]=C,this.h[3]=S,this.h[4]=A,this.h[5]=T,this.h[6]=R,this.h[7]=O,this.h[8]=j,this.h[9]=P},C.prototype.finish=function(t,e){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},C.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var K=T,W=R;var X=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(t,e,r,n){for(var i,o,s,a,u,c,f,h,l,p,d,v,y,g,_,m,b,w,E,x,k,C,S,A,T,R,O=new Int32Array(16),j=new Int32Array(16),P=t[0],I=t[1],F=t[2],M=t[3],B=t[4],L=t[5],U=t[6],D=t[7],N=e[0],H=e[1],q=e[2],V=e[3],z=e[4],Y=e[5],K=e[6],W=e[7],G=0;n>=128;){for(E=0;E<16;E++)x=8*E+G,O[E]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],j[E]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(E=0;E<80;E++)if(i=P,o=I,s=F,a=M,u=B,c=L,f=U,h=D,l=N,p=H,d=q,v=V,y=z,g=Y,_=K,m=W,S=65535&(C=W),A=C>>>16,T=65535&(k=D),R=k>>>16,S+=65535&(C=(z>>>14|B<<18)^(z>>>18|B<<14)^(B>>>9|z<<23)),A+=C>>>16,T+=65535&(k=(B>>>14|z<<18)^(B>>>18|z<<14)^(z>>>9|B<<23)),R+=k>>>16,S+=65535&(C=z&Y^~z&K),A+=C>>>16,T+=65535&(k=B&L^~B&U),R+=k>>>16,k=X[2*E],S+=65535&(C=X[2*E+1]),A+=C>>>16,T+=65535&k,R+=k>>>16,k=O[E%16],A+=(C=j[E%16])>>>16,T+=65535&k,R+=k>>>16,T+=(A+=(S+=65535&C)>>>16)>>>16,S=65535&(C=w=65535&S|A<<16),A=C>>>16,T=65535&(k=b=65535&T|(R+=T>>>16)<<16),R=k>>>16,S+=65535&(C=(N>>>28|P<<4)^(P>>>2|N<<30)^(P>>>7|N<<25)),A+=C>>>16,T+=65535&(k=(P>>>28|N<<4)^(N>>>2|P<<30)^(N>>>7|P<<25)),R+=k>>>16,A+=(C=N&H^N&q^H&q)>>>16,T+=65535&(k=P&I^P&F^I&F),R+=k>>>16,h=65535&(T+=(A+=(S+=65535&C)>>>16)>>>16)|(R+=T>>>16)<<16,m=65535&S|A<<16,S=65535&(C=v),A=C>>>16,T=65535&(k=a),R=k>>>16,A+=(C=w)>>>16,T+=65535&(k=b),R+=k>>>16,I=i,F=o,M=s,B=a=65535&(T+=(A+=(S+=65535&C)>>>16)>>>16)|(R+=T>>>16)<<16,L=u,U=c,D=f,P=h,H=l,q=p,V=d,z=v=65535&S|A<<16,Y=y,K=g,W=_,N=m,E%16==15)for(x=0;x<16;x++)k=O[x],S=65535&(C=j[x]),A=C>>>16,T=65535&k,R=k>>>16,k=O[(x+9)%16],S+=65535&(C=j[(x+9)%16]),A+=C>>>16,T+=65535&k,R+=k>>>16,b=O[(x+1)%16],S+=65535&(C=((w=j[(x+1)%16])>>>1|b<<31)^(w>>>8|b<<24)^(w>>>7|b<<25)),A+=C>>>16,T+=65535&(k=(b>>>1|w<<31)^(b>>>8|w<<24)^b>>>7),R+=k>>>16,b=O[(x+14)%16],A+=(C=((w=j[(x+14)%16])>>>19|b<<13)^(b>>>29|w<<3)^(w>>>6|b<<26))>>>16,T+=65535&(k=(b>>>19|w<<13)^(w>>>29|b<<3)^b>>>6),R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,O[x]=65535&T|R<<16,j[x]=65535&S|A<<16;S=65535&(C=N),A=C>>>16,T=65535&(k=P),R=k>>>16,k=t[0],A+=(C=e[0])>>>16,T+=65535&k,R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,t[0]=P=65535&T|R<<16,e[0]=N=65535&S|A<<16,S=65535&(C=H),A=C>>>16,T=65535&(k=I),R=k>>>16,k=t[1],A+=(C=e[1])>>>16,T+=65535&k,R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,t[1]=I=65535&T|R<<16,e[1]=H=65535&S|A<<16,S=65535&(C=q),A=C>>>16,T=65535&(k=F),R=k>>>16,k=t[2],A+=(C=e[2])>>>16,T+=65535&k,R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,t[2]=F=65535&T|R<<16,e[2]=q=65535&S|A<<16,S=65535&(C=V),A=C>>>16,T=65535&(k=M),R=k>>>16,k=t[3],A+=(C=e[3])>>>16,T+=65535&k,R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,t[3]=M=65535&T|R<<16,e[3]=V=65535&S|A<<16,S=65535&(C=z),A=C>>>16,T=65535&(k=B),R=k>>>16,k=t[4],A+=(C=e[4])>>>16,T+=65535&k,R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,t[4]=B=65535&T|R<<16,e[4]=z=65535&S|A<<16,S=65535&(C=Y),A=C>>>16,T=65535&(k=L),R=k>>>16,k=t[5],A+=(C=e[5])>>>16,T+=65535&k,R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,t[5]=L=65535&T|R<<16,e[5]=Y=65535&S|A<<16,S=65535&(C=K),A=C>>>16,T=65535&(k=U),R=k>>>16,k=t[6],A+=(C=e[6])>>>16,T+=65535&k,R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,t[6]=U=65535&T|R<<16,e[6]=K=65535&S|A<<16,S=65535&(C=W),A=C>>>16,T=65535&(k=D),R=k>>>16,k=t[7],A+=(C=e[7])>>>16,T+=65535&k,R+=k>>>16,R+=(T+=(A+=(S+=65535&C)>>>16)>>>16)>>>16,t[7]=D=65535&T|R<<16,e[7]=W=65535&S|A<<16,G+=128,n-=128}return n}function $(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,G(i,o,e,r),r%=128,n=0;n<r;n++)s[n]=e[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,d(s,r-8,a/536870912|0,a<<3),G(i,o,s,r),n=0;n<8;n++)d(t,8*n,i[n],o[n]);return 0}function Q(t,r){var n=e(),i=e(),o=e(),s=e(),a=e(),u=e(),c=e(),h=e(),l=e();U(n,t[1],t[0]),U(l,r[1],r[0]),D(n,n,l),L(i,t[0],t[1]),L(l,r[0],r[1]),D(i,i,l),D(o,t[3],r[3]),D(o,o,f),D(s,t[2],r[2]),L(s,s,s),U(a,i,n),U(u,s,o),L(c,s,o),L(h,i,n),D(t[0],a,u),D(t[1],h,c),D(t[2],c,u),D(t[3],a,h)}function Z(t,e,r){var n;for(n=0;n<4;n++)P(t[n],e[n],r)}function J(t,r){var n=e(),i=e(),o=e();H(o,r[2]),D(n,r[0],o),D(i,r[1],o),I(t,i),t[31]^=M(n)<<7}function tt(t,e,r){var n,i;for(O(t[0],s),O(t[1],a),O(t[2],a),O(t[3],s),i=255;i>=0;--i)Z(t,e,n=r[i/8|0]>>(7&i)&1),Q(e,t),Q(t,t),Z(t,e,n)}function et(t,r){var n=[e(),e(),e(),e()];O(n[0],h),O(n[1],l),O(n[2],a),D(n[3],h,l),tt(t,n,r)}function rt(t,r,i){var o,s=new Uint8Array(64),a=[e(),e(),e(),e()];for(i||n(r,32),$(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,et(a,s),J(t,a),o=0;o<32;o++)r[o+32]=t[o];return 0}var nt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function it(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*nt[i-(n-32)],r=e[i]+128>>8,e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*nt[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*nt[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function ot(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;it(t,r)}function st(t,r,n,i){var o,s,a=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),f=new Float64Array(64),h=[e(),e(),e(),e()];$(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var l=n+64;for(o=0;o<n;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=a[32+o];for($(c,t.subarray(32),n+32),ot(c),et(h,c),J(t,h),o=32;o<64;o++)t[o]=i[o];for($(u,t,n+64),ot(u),o=0;o<64;o++)f[o]=0;for(o=0;o<32;o++)f[o]=c[o];for(o=0;o<32;o++)for(s=0;s<32;s++)f[o+s]+=u[o]*a[s];return it(t.subarray(32),f),l}function at(t,r){var n=e(),i=e(),o=e(),u=e(),f=e(),h=e(),l=e();return O(t[2],a),B(t[1],r),N(o,t[1]),D(u,o,c),U(o,o,t[2]),L(u,t[2],u),N(f,u),N(h,f),D(l,h,f),D(n,l,o),D(n,n,u),function(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)N(i,i),1!==n&&D(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}(n,n),D(n,n,o),D(n,n,u),D(n,n,u),D(t[0],n,u),N(i,t[0]),D(i,i,u),F(i,o)&&D(t[0],t[0],p),N(i,t[0]),D(i,i,u),F(i,o)?-1:(M(t[0])===r[31]>>7&&U(t[0],s,t[0]),D(t[3],t[0],t[1]),0)}function ut(t,r,n,i){var o,s=new Uint8Array(32),a=new Uint8Array(64),u=[e(),e(),e(),e()],c=[e(),e(),e(),e()];if(-1,n<64)return-1;if(at(c,i))return-1;for(o=0;o<n;o++)t[o]=r[o];for(o=0;o<32;o++)t[o+32]=i[o];if($(a,t,n),ot(a),tt(u,c,a),et(c,r.subarray(32)),Q(u,c),J(s,u),n-=64,g(r,0,s,0)){for(o=0;o<n;o++)t[o]=0;return-1}for(o=0;o<n;o++)t[o]=r[o+64];return n}var ct=32,ft=24,ht=32,lt=32,pt=ft;function dt(t,e){if(t.length!==ct)throw new Error("bad key size");if(e.length!==ft)throw new Error("bad nonce size")}function vt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function yt(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:k,crypto_stream:x,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:E,crypto_onetimeauth:S,crypto_onetimeauth_verify:A,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:T,crypto_secretbox_open:R,crypto_scalarmult:q,crypto_scalarmult_base:V,crypto_box_beforenm:Y,crypto_box_afternm:K,crypto_box:function(t,e,r,n,i,o){var s=new Uint8Array(32);return Y(s,i,o),K(t,e,r,n,s)},crypto_box_open:function(t,e,r,n,i,o){var s=new Uint8Array(32);return Y(s,i,o),W(t,e,r,n,s)},crypto_box_keypair:z,crypto_hash:$,crypto_sign:st,crypto_sign_keypair:rt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:ct,crypto_secretbox_NONCEBYTES:ft,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:ht,crypto_box_SECRETKEYBYTES:lt,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:pt,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){vt(t,e,r),dt(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return T(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){vt(t,e,r),dt(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32?null:0!==R(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=ct,t.secretbox.nonceLength=ft,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(vt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return q(r,t,e),r},t.scalarMult.base=function(t){if(vt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return V(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){vt(t,e),function(t,e){if(t.length!==ht)throw new Error("bad public key size");if(e.length!==lt)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return Y(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(ht),e=new Uint8Array(lt);return z(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(vt(t),t.length!==lt)throw new Error("bad secret key size");var e=new Uint8Array(ht);return V(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=ht,t.box.secretKeyLength=lt,t.box.sharedKeyLength=32,t.box.nonceLength=pt,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(vt(t,e),64!==e.length)throw new Error("bad secret key size");var r=new Uint8Array(64+t.length);return st(r,t,t.length,e),r},t.sign.open=function(t,e){if(vt(t,e),32!==e.length)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ut(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(vt(t,e,r),64!==e.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return ut(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(vt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(vt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return rt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){vt(t);var e=new Uint8Array(64);return $(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return vt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===v(t,0,e,0,t.length))},t.setPRNG=function(t){n=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG(function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];yt(i)})}else(e=r(138))&&e.randomBytes&&t.setPRNG(function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];yt(i)})}()}(void 0!==t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,r){"use strict";var n=r(37),i=r(28);function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function a(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=s(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=o(i)),r+=a(i.toString(16))}return r},e.zero2=s,e.zero8=a,e.join32=function(t,e,r,i){var o=r-e;n(o%4==0);for(var s=new Array(o/4),a=0,u=e;a<s.length;a++,u+=4){var c;c="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[a]=c>>>0}return s},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,s,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+o>>>0)<o?1:0,t+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,s,a,u,c){var f=0,h=e;return f+=(h=h+n>>>0)<e?1:0,f+=(h=h+o>>>0)<o?1:0,f+=(h=h+a>>>0)<a?1:0,t+r+i+s+u+(f+=(h=h+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,s,a,u,c){return e+n+o+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=r,r.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){},function(t,e){t.exports=!0},function(t,e,r){var n=r(8),i=r(106),o=r(50),s=r(48)("IE_PROTO"),a=function(){},u=function(){var t,e=r(58)("iframe"),n=o.length;for(e.style.display="none",r(90).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[o[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(a.prototype=n(t),r=new a,a.prototype=null,r[s]=t):r=u(),void 0===e?r:i(r,e)}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,c=[],f=!1,h=-1;function l(){f&&u&&(f=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!f){var t=a(l);f=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||f||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){t.exports={default:r(150),__esModule:!0}},function(t,e,r){var n=r(4);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){var n=r(30);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(49)("keys"),i=r(32);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e,r){var n=r(3),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){"use strict";var n=r(40),i=r(1),o=r(71),s=r(9),a=r(12),u=r(21),c=r(105),f=r(23),h=r(91),l=r(2)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,r,v,y,g,_){c(r,e,v);var m,b,w,E=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},x=e+" Iterator",k="values"==y,C=!1,S=t.prototype,A=S[l]||S["@@iterator"]||y&&S[y],T=!p&&A||E(y),R=y?k?E("entries"):T:void 0,O="Array"==e&&S.entries||A;if(O&&(w=h(O.call(new t)))!==Object.prototype&&w.next&&(f(w,x,!0),n||a(w,l)||s(w,l,d)),k&&A&&"values"!==A.name&&(C=!0,T=function(){return A.call(this)}),n&&!_||!p&&!C&&S[l]||s(S,l,T),u[e]=T,u[x]=d,y)if(m={values:k?T:E("values"),keys:g?T:E("keys"),entries:R},_)for(b in m)b in S||o(S,b,m[b]);else i(i.P+i.F*(p||C),e,m);return m}},function(t,e,r){var n=r(61),i=r(2)("iterator"),o=r(21);t.exports=r(0).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e,r){e.f=r(2)},function(t,e,r){var n=r(3),i=r(0),o=r(40),s=r(54),a=r(5).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,r){var n=r(4);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,r){"use strict";(function(e){var n=a(r(98)),i=a(r(43)),o=a(r(26)),s=a(r(27));function a(t){return t&&t.__esModule?t:{default:t}}var u=r(35).sign,c=r(15),f=c.addressToKey,h=c.isValidEcPrivateAddress,l=r(16).MAX_ENTRY_PAYLOAD_SIZE,p=r(19),d=p.sha256,v=p.sha512,y=function(){function t(e){if((0,o.default)(this,t),!(e instanceof g))throw new Error("Use `Entry.builder()` syntax to create a new Entry");this.chainId=e._chainId,this.content=e._content,this.timestamp=e._timestamp,this.extIds=(0,i.default)(e._extIds),this.blockContext=(0,i.default)(e._blockContext),(0,i.default)(this)}return(0,s.default)(t,[{key:"size",value:function(){return 35+this.payloadSize()}},{key:"payloadSize",value:function(){return this.rawDataSize()+2*this.extIds.length}},{key:"rawDataSize",value:function(){return this.content.length+this.extIds.reduce(function(t,e){return t+e.length},0)}},{key:"remainingFreeBytes",value:function(){var t=this.payloadSize();if(0===t)return 1024;var e=t%1024;return e?1024-e:0}},{key:"remainingMaxBytes",value:function(){var t=l-this.payloadSize();if(t<0)throw new Error("Entry cannot be larger than 10Kb");return t}},{key:"hash",value:function(){var t=this.marshalBinary();return d(e.concat([v(t),t]))}},{key:"hashHex",value:function(){return this.hash().toString("hex")}},{key:"marshalBinary",value:function(){if(0===this.chainId.length)throw new Error("ChainId is missing to marshal the entry");var t=function(t){var r=[],i=!0,o=!1,s=void 0;try{for(var a,u=(0,n.default)(t);!(i=(a=u.next()).done);i=!0){var c=a.value,f=e.alloc(2);f.writeInt16BE(c.length),r.push(f),r.push(c)}}catch(t){o=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw s}}return e.concat(r)}(this.extIds),r=function(t,r){var n=e.alloc(35);return n.writeInt8(0),t.copy(n,1),n.writeInt16BE(r,33),n}(this.chainId,t.length);return e.concat([r,t,this.content])}},{key:"marshalBinaryHex",value:function(){return this.marshalBinary().toString("hex")}},{key:"ecCost",value:function(){var t=this.payloadSize();if(t>l)throw new Error("Entry cannot be larger than 10Kb");return Math.ceil(t/1024)}},{key:"contentHex",get:function(){return this.content.toString("hex")}},{key:"extIdsHex",get:function(){return this.extIds.map(function(t){return t.toString("hex")})}},{key:"chainIdHex",get:function(){return this.chainId.toString("hex")}}],[{key:"builder",value:function(t){return new g(t)}}]),t}(),g=function(){function t(r){(0,o.default)(this,t),r instanceof Object?(this._extIds=r.extIds,this._content=r.content,this._chainId=r.chainId,this._timestamp=r.timestamp,this._blockContext=r._blockContext):(this._extIds=[],this._content=e.from(""),this._chainId=e.from(""))}return(0,s.default)(t,[{key:"content",value:function(t,r){return t&&(this._content=e.from(t,r||"hex")),this}},{key:"chainId",value:function(t,r){return t&&(this._chainId=e.from(t,r||"hex")),this}},{key:"extIds",value:function(t,r){return Array.isArray(t)&&(this._extIds=t.map(function(t){return e.from(t,r||"hex")})),this}},{key:"extId",value:function(t,r){return t&&this._extIds.push(e.from(t,r||"hex")),this}},{key:"timestamp",value:function(t){return this._timestamp=t,this}},{key:"blockContext",value:function(t){return this._blockContext=t,this}},{key:"build",value:function(){return new y(this)}}]),t}();function _(t,r){if(w(t),!h(r))throw new Error(r+" is not a valid EC private address");var n=m(t),i=f(r),o=u.keyPair.fromSeed(i),s=e.from(o.publicKey),a=e.from(u.detached(n,o.secretKey));return e.concat([n,s,a])}function m(t){var r=e.alloc(40);return r.writeInt8(0),r.writeIntBE(t.timestamp||Date.now(),1,6),t.hash().copy(r,7),r.writeInt8(t.ecCost(),39),r}function b(t){return w(t),t.marshalBinary()}function w(t){if(!(t instanceof y))throw new Error("Argument must be an instance of Entry")}t.exports={Entry:y,computeEntryTxId:function(t){return w(t),d(m(t))},validateEntryInstance:w,composeEntryCommit:_,composeEntryReveal:b,composeEntry:function(t,e){return w(t),{commit:_(t,e),reveal:b(t)}}}}).call(this,r(6).Buffer)},function(t,e,r){var n=r(4),i=r(3).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,r){t.exports=r(184)},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(186));e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default(function(t,r){return function i(o,s){try{var a=e[o](s),u=a.value}catch(t){return void r(t)}if(!a.done)return n.default.resolve(u).then(function(t){i("next",t)},function(t){i("throw",t)});t(u)}("next")})}}},function(t,e,r){var n=r(30),i=r(2)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(9);t.exports=function(t,e,r){for(var i in e)r&&t[i]?t[i]=e[i]:n(t,i,e[i]);return t}},function(t,e,r){"use strict";e.__esModule=!0;var n=s(r(77)),i=s(r(117)),o="function"==typeof i.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(n.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,r){"use strict";var n=r(94),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=h;var o=r(86);o.inherits=r(28);var s=r(172),a=r(176);o.inherits(h,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];h.prototype[f]||(h.prototype[f]=a.prototype[f])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(134));e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,n.default)(t)}},function(t,e,r){"use strict";(function(e){var n=c(r(66)),i=c(r(64)),o=c(r(154)),s=c(r(43)),a=c(r(26)),u=c(r(27));function c(t){return t&&t.__esModule?t:{default:t}}var f=r(35).sign,h=r(89),l=r(19),p=l.RCD_TYPE_1,d=l.encodeVarInt,v=l.sha256,y=l.sha256d,g=l.flatMap,_=r(16).MAX_TRANSACTION_SIZE,m=r(15),b=m.isValidFctAddress,w=m.isValidPublicAddress,E=m.getPublicAddress,x=m.addressToKey,k=m.addressToRcd,C=function(){function t(e,r){if((0,a.default)(this,t),!w(e))throw new TypeError("Address must be a valid Factoid or EntryCredit public address.");!function(t){if(!(0,o.default)(t))throw new Error("Amount must be a safe integer (less than 2^53 - 1).");if(t<0)throw new Error("Amount must be a positive number.")}(r),this.address=e,this.amount=r,(0,s.default)(this)}return(0,u.default)(t,[{key:"marshalBinary",value:function(){return e.concat([d(this.amount),e.from(h.decode(this.address).slice(2,34))])}}]),t}();var S=function(){function t(r,u){var c=this;if((0,a.default)(this,t),r instanceof A)this.timestamp=r._timestamp||Date.now(),this.inputs=r._inputs,this.factoidOutputs=r._factoidOutputs,this.entryCreditOutputs=r._entryCreditOutputs,this.marshalBinarySig=function(t,r,i,o){var s=e.alloc(10);s.writeInt8(2),s.writeIntBE(t,1,6),s.writeInt8(r.length,7),s.writeInt8(i.length,8),s.writeInt8(o.length,9);var a=r.map(function(t){return t.marshalBinary()}),u=i.map(function(t){return t.marshalBinary()}),c=o.map(function(t){return t.marshalBinary()});return e.concat([s].concat((0,n.default)(a),(0,n.default)(u),(0,n.default)(c)))}(this.timestamp,this.inputs,this.factoidOutputs,this.entryCreditOutputs),this.id=v(this.marshalBinarySig).toString("hex"),0!==r._keys.length?(this.rcds=r._keys.map(function(t){return e.concat([p,e.from(t.publicKey)])}),this.signatures=r._keys.map(function(t){return e.from(f.detached(c.marshalBinarySig,t.secretKey))})):(this.rcds=r._rcds,this.signatures=r._signatures,0!==this.rcds.length&&0!==this.signatures.length&&(function(t,e){if(e.length!==t.length)throw new Error("The number of RCDs ("+e.length+") does not equal the number of inputs ("+t.length+").");for(var r=0;r<e.length;++r)T(t[r],e[r])}(this.inputs,this.rcds),function(t,e,r){if(e.length!==r.length)throw new Error("The number of RCDs ("+e.length+") does not equal the number of signatures ("+r.length+")");for(var n=0;n<r.length;++n)R(t,e[n],r[n])}(this.marshalBinarySig,this.rcds,this.signatures)));else{if("object"!==(void 0===r?"undefined":(0,i.default)(r)))throw new Error("Use `Transaction.builder()` syntax to create a new Transaction.");this.id=r.txid,this.timestamp=r.millitimestamp,this.inputs=r.inputs.map(function(t){return new C(t.useraddress,t.amount)}),this.factoidOutputs=r.outputs.map(function(t){return new C(t.useraddress,t.amount)}),this.entryCreditOutputs=r.outecs.map(function(t){return new C(t.useraddress,t.amount)}),this.rcds=r.rcds.map(function(t){return e.from(t,"hex")}),this.signatures=g(r.sigblocks,function(t){return t.signatures}).map(function(t){return e.from(t,"hex")}),this.blockContext=u}if(0!==this.signatures.length&&this.inputs.length!==this.signatures.length)throw new Error("All inputs must be signed or none of them.");this.totalInputs=this.inputs.reduce(function(t,e){return t+e.amount},0),this.totalFactoidOutputs=this.factoidOutputs.reduce(function(t,e){return t+e.amount},0),this.totalEntryCreditOutputs=this.entryCreditOutputs.reduce(function(t,e){return t+e.amount},0);var h=this.totalFactoidOutputs+this.totalEntryCreditOutputs;if(!(0,o.default)(this.totalInputs)||!(0,o.default)(h))throw new Error("Total inputs/outputs are not safe integers (too big to be handled by the library).");this.feesPaid=Math.max(this.totalInputs-h,0),(0,s.default)(this)}return(0,u.default)(t,[{key:"isSigned",value:function(){return 0!==this.signatures.length}},{key:"validateFees",value:function(t){return this.computeRequiredFees(t)<=this.feesPaid}},{key:"computeRequiredFees",value:function(t,e){return this.computeEcRequiredFees(e)*t}},{key:"computeEcRequiredFees",value:function(t){var e=t||{},r=void 0,n=void 0;if(this.isSigned())r=this.marshalBinary().length,n=this.signatures.length;else if("number"==typeof e.rcdSignatureLength&&"number"==typeof e.numberOfSignatures)r=this.marshalBinarySig.length+e.rcdSignatureLength,n=e.numberOfSignatures;else{if(1!==e.rcdType)throw new Error("Missing parameters to compute fees of unsigned transaction.");r=this.marshalBinarySig.length+97*this.inputs.length,n=this.inputs.length}if(r>_)throw new Error("Transaction size is bigger than the maximum ("+_+" bytes).");var i=Math.floor((r+1023)/1024);return i+=10*(this.factoidOutputs.length+this.entryCreditOutputs.length),i+=n}},{key:"marshalBinary",value:function(){if(!this.isSigned())throw new Error("Cannot marshal an unsigned Transaction.");for(var t=[this.marshalBinarySig],r=0;r<this.rcds.length;++r)t.push(this.rcds[r]),t.push(this.signatures[r]);return e.concat(t)}}],[{key:"builder",value:function(t){return new A(t)}}]),t}();var A=function(){function t(e){(0,a.default)(this,t),this._timestamp,this._inputs=[],this._factoidOutputs=[],this._entryCreditOutputs=[],this._keys=[],this._rcds=[],this._signatures=[],e instanceof S&&(this._timestamp=e.timestamp,this._inputs=e.inputs,this._factoidOutputs=e.factoidOutputs,this._entryCreditOutputs=e.entryCreditOutputs)}return(0,u.default)(t,[{key:"input",value:function(t,e){if(!b(t))throw new TypeError("First argument must be a valid Factoid address.");if(this._inputs.push(new C(E(t),e)),"s"===t[1]){var r=x(t),n=f.keyPair.fromSeed(r);this._keys.push(n)}return this}},{key:"output",value:function(t,e){var r=new C(t,e);return"F"===t[0]?this._factoidOutputs.push(r):this._entryCreditOutputs.push(r),this}},{key:"rcdSignature",value:function(t,r){return this._rcds.push(e.from(t,"hex")),this._signatures.push(e.from(r,"hex")),this}},{key:"timestamp",value:function(t){return this._timestamp=t,this}},{key:"build",value:function(){return new S(this)}}]),t}();function T(t,e){if(!y(e).equals(k(t.address)))throw new Error("RCD does not match the RCD hash from input address "+t.address+".")}function R(t,r,n){if(1!==r[0])throw new Error("Only RCD type 1 is currently supported. Invalid RCD: "+r+".");var i=e.from(r,1).slice(1);if(!f.detached.verify(t,n,i))throw new Error("Signature of Transaction is invalid.")}t.exports={Transaction:S}}).call(this,r(6).Buffer)},function(t,e,r){t.exports={default:r(99),__esModule:!0}},function(t,e,r){t.exports=!r(7)&&!r(11)(function(){return 7!=Object.defineProperty(r(58)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(12),i=r(13),o=r(102)(!1),s=r(48)("IE_PROTO");t.exports=function(t,e){var r,a=i(t),u=0,c=[];for(r in a)r!=s&&n(a,r)&&c.push(r);for(;e.length>u;)n(a,r=e[u++])&&(~o(c,r)||c.push(r));return c}},function(t,e,r){t.exports=r(9)},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,r){var n=r(8);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,r){var n=r(21),i=r(2)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[i]===t)}},function(t,e,r){var n=r(1),i=r(0),o=r(11);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*o(function(){r(1)}),"Object",s)}},function(t,e,r){var n=r(33),i=r(20),o=r(13),s=r(44),a=r(12),u=r(69),c=Object.getOwnPropertyDescriptor;e.f=r(7)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(a(t,e))return i(!n.f.call(t,e),t[e])}},function(t,e,r){t.exports={default:r(116),__esModule:!0}},function(t,e,r){var n=r(30);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(70),i=r(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},function(t,e,r){t.exports={default:r(124),__esModule:!0}},function(t,e,r){"use strict";var n=r(5).f,i=r(41),o=r(63),s=r(10),a=r(62),u=r(25),c=r(52),f=r(72),h=r(92),l=r(7),p=r(34).fastKey,d=r(56),v=l?"_s":"size",y=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,c){var f=t(function(t,n){a(t,f,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=n&&u(n,r,t[c],t)});return o(f.prototype,{clear:function(){for(var t=d(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var r=d(this,e),n=y(r,t);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[v]--}return!!n},forEach:function(t){d(this,e);for(var r,n=s(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(d(this,e),t)}}),l&&n(f.prototype,"size",{get:function(){return d(this,e)[v]}}),f},def:function(t,e,r){var n,i,o=y(t,e);return o?o.v=r:(t._l=o={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,r){c(t,e,function(t,r){this._t=d(t,e),this._k=r,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?f(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,f(1))},r?"entries":"values",!r,!0),h(e)}}},function(t,e,r){"use strict";var n=r(3),i=r(1),o=r(34),s=r(11),a=r(9),u=r(63),c=r(25),f=r(62),h=r(4),l=r(23),p=r(5).f,d=r(126)(0),v=r(7);t.exports=function(t,e,r,y,g,_){var m=n[t],b=m,w=g?"set":"add",E=b&&b.prototype,x={};return v&&"function"==typeof b&&(_||E.forEach&&!s(function(){(new b).entries().next()}))?(b=e(function(e,r){f(e,b,t,"_c"),e._c=new m,void 0!=r&&c(r,g,e[w],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in E&&(!_||"clear"!=t)&&a(b.prototype,t,function(r,n){if(f(this,b,t),!e&&_&&!h(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,n);return e?this:i})}),_||p(b.prototype,"size",{get:function(){return this._c.size}})):(b=y.getConstructor(e,t,g,w),u(b.prototype,r),o.NEED=!0),l(b,t),x[t]=b,i(i.G+i.W+i.F,x),_||y.setStrong(b,t,g),b}},function(t,e,r){var n=r(61),i=r(130);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,r){"use strict";var n=r(1);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,r){"use strict";var n=r(1),i=r(38),o=r(10),s=r(25);t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,a,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),void 0==t?new this:(r=[],e?(n=0,a=o(u,arguments[2],2),s(t,!1,function(t){r.push(a(t,n++))})):s(t,!1,r.push,r),new this(r))}})}},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(6).Buffer)},function(t,e,r){(function(e,r,n){t.exports=function(){var t,i,o;return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};e[s][0].call(f.exports,function(t){var r=e[s][1][t];return i(r||t)},f,f.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function r(t){var r=new e(t),n=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),n}t.any=function(t){return r(t)},t.prototype.any=function(){return r(this)}}},{}],2:[function(t,r,n){"use strict";var i;try{throw new Error}catch(t){i=t}var o=t("./schedule"),s=t("./queue"),a=t("./util");function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=o}function c(t,e,r){this._lateQueue.push(t,e,r),this._queueTick()}function f(t,e,r){this._normalQueue.push(t,e,r),this._queueTick()}function h(t){this._normalQueue._pushOne(t),this._queueTick()}u.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},u.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(t,r){r?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},u.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.hasDevTools?(u.prototype.invokeLater=function(t,e,r){this._trampolineEnabled?c.call(this,t,e,r):this._schedule(function(){setTimeout(function(){t.call(e,r)},100)})},u.prototype.invoke=function(t,e,r){this._trampolineEnabled?f.call(this,t,e,r):this._schedule(function(){t.call(e,r)})},u.prototype.settlePromises=function(t){this._trampolineEnabled?h.call(this,t):this._schedule(function(){t._settlePromises()})}):(u.prototype.invokeLater=c,u.prototype.invoke=f,u.prototype.settlePromises=h),u.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var r=t.shift(),n=t.shift();e.call(r,n)}else e._settlePromises()}},u.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},r.exports=u,r.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){var i=!1,o=function(t,e){this._reject(e)},s=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},a=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=n.propagateFromFunction(),t.prototype._boundValue=n.boundValueFunction());var c=r(o),f=new t(e);f._propagateFrom(this,1);var h=this._target();if(f._setBoundTo(c),c instanceof t){var l={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:c};h._then(e,s,void 0,f,l),c._then(a,u,void 0,f,l),f._setOnCancel(c)}else f._resolveCallback(h);return f},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,r){return t.resolve(r).bind(e)}}},{}],4:[function(t,e,r){"use strict";var n;"undefined"!=typeof Promise&&(n=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=n)}catch(t){}return i},e.exports=i},{"./promise":22}],5:[function(t,e,r){"use strict";var n=Object.create;if(n){var i=n(null),o=n(null);i[" size"]=o[" size"]=0}e.exports=function(e){var r=t("./util"),n=r.canEvaluate;function i(t){var n=this.pop(),i=function(t,n){var i;if(null!=t&&(i=t[n]),"function"!=typeof i){var o="Object "+r.classString(t)+" has no method '"+r.toString(n)+"'";throw new e.TypeError(o)}return i}(t,n);return i.apply(t,this)}function o(t){return t[this]}function s(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}r.isIdentifier,e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(i,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,r="number"==typeof t;if(r)e=s;else if(n){var i=(void 0)(t);e=null!==i?i:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){var o=t("./util"),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var r=t._cancellationParent;if(null==r||!r._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=r}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var r=0;r<t.length;++r)this._doInvokeOnCancel(t[r],e);else if(void 0!==t)if("function"==typeof t){if(!e){var n=s(t).call(this._boundValue());n===a&&(this._attachExtraTrace(n.e),u.throwLater(n.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,r){"use strict";e.exports=function(e){var r=t("./util"),n=t("./es5").keys,i=r.tryCatch,o=r.errorObj;return function(t,s,a){return function(u){var c=a._boundValue();t:for(var f=0;f<t.length;++f){var h=t[f];if(h===Error||null!=h&&h.prototype instanceof Error){if(u instanceof h)return i(s).call(c,u)}else if("function"==typeof h){var l=i(h).call(c,u);if(l===o)return l;if(l)return i(s).call(c,u)}else if(r.isObject(u)){for(var p=n(h),d=0;d<p.length;++d){var v=p[d];if(h[v]!=u[v])continue t}return i(s).call(c,u)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,r){"use strict";e.exports=function(t){var e=!1,r=[];function n(){this._trace=new n.CapturedTrace(i())}function i(){var t=r.length-1;if(t>=0)return r[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},n.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},n.prototype._popContext=function(){if(void 0!==this._trace){var t=r.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},n.CapturedTrace=null,n.create=function(){if(e)return new n},n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var r=t.prototype._pushContext,o=t.prototype._popContext,s=t._peekContext,a=t.prototype._peekContext,u=t.prototype._promiseCreated;n.deactivateLongStackTraces=function(){t.prototype._pushContext=r,t.prototype._popContext=o,t._peekContext=s,t.prototype._peekContext=a,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,t._peekContext=t.prototype._peekContext=i,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},n}},{}],9:[function(t,r,n){"use strict";r.exports=function(r,n){var i,o,s,a=r._getDomain,u=r._async,c=t("./errors").Warning,f=t("./util"),h=f.canAttachTrace,l=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,y=null,g=!1,_=!(0==f.env("BLUEBIRD_DEBUG")),m=!(0==f.env("BLUEBIRD_WARNINGS")||!_&&!f.env("BLUEBIRD_WARNINGS")),b=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!_&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),w=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(m||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},r.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},r.prototype._notifyUnhandledRejectionIsHandled=function(){V("rejectionHandled",i,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},r.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),V("unhandledRejection",o,t,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},r.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},r.prototype._warn=function(t,e,r){return D(t,e,r||this)},r.onPossiblyUnhandledRejection=function(t){var e=a();o="function"==typeof t?null===e?t:f.domainBind(e,t):void 0},r.onUnhandledRejectionHandled=function(t){var e=a();i="function"==typeof t?null===e?t:f.domainBind(e,t):void 0};var E=function(){};r.longStackTraces=function(){if(u.haveItemsQueued()&&!Q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Q.longStackTraces&&Y()){var t=r.prototype._captureStackTrace,e=r.prototype._attachExtraTrace;Q.longStackTraces=!0,E=function(){if(u.haveItemsQueued()&&!Q.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");r.prototype._captureStackTrace=t,r.prototype._attachExtraTrace=e,n.deactivateLongStackTraces(),u.enableTrampoline(),Q.longStackTraces=!1},r.prototype._captureStackTrace=L,r.prototype._attachExtraTrace=U,n.activateLongStackTraces(),u.disableTrampolineIfNecessary()}},r.hasLongStackTraces=function(){return Q.longStackTraces&&Y()};var x=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,e){var r=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,e){var r=new Event(t.toLowerCase(),{cancelable:!0});return r.detail=e,!f.global.dispatchEvent(r)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,e){var r=document.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,e),!f.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),k=f.isNode?function(){return e.emit.apply(e,arguments)}:f.global?function(t){var e="on"+t.toLowerCase(),r=f.global[e];return!!r&&(r.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,e){return{promise:e}}var S={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,e,r){return{promise:e,child:r}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,r){return{reason:e,promise:r}},rejectionHandled:C},A=function(t){var e=!1;try{e=k.apply(null,arguments)}catch(t){u.throwLater(t),e=!0}var r=!1;try{r=x(t,S[t].apply(null,arguments))}catch(t){u.throwLater(t),r=!0}return r||e};function T(){return!1}function R(t,e,r){var n=this;try{t(e,r,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+f.toString(t));n._attachCancellationCallback(t)})}catch(t){return t}}function O(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?f.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function j(){return this._onCancelField}function P(t){this._onCancelField=t}function I(){this._cancellationParent=void 0,this._onCancelField=void 0}function F(t,e){if(0!=(1&e)){this._cancellationParent=t;var r=t._branchesRemainingToCancel;void 0===r&&(r=0),t._branchesRemainingToCancel=r+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}r.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?r.longStackTraces():!t.longStackTraces&&r.hasLongStackTraces()&&E()),"warnings"in t){var e=t.warnings;Q.warnings=!!e,w=Q.warnings,f.isObject(e)&&"wForgottenReturn"in e&&(w=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!Q.cancellation){if(u.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=I,r.prototype._propagateFrom=F,r.prototype._onCancel=j,r.prototype._setOnCancel=P,r.prototype._attachCancellationCallback=O,r.prototype._execute=R,M=F,Q.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!Q.monitoring?(Q.monitoring=!0,r.prototype._fireEvent=A):!t.monitoring&&Q.monitoring&&(Q.monitoring=!1,r.prototype._fireEvent=T)),r},r.prototype._fireEvent=T,r.prototype._execute=function(t,e,r){try{t(e,r)}catch(t){return t}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(t){},r.prototype._attachCancellationCallback=function(t){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(t,e){};var M=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function B(){var t=this._boundTo;return void 0!==t&&t instanceof r?t.isFulfilled()?t.value():void 0:t}function L(){this._trace=new G(this._peekContext())}function U(t,e){if(h(t)){var r=this._trace;if(void 0!==r&&e&&(r=r._parent),void 0!==r)r.attachExtraTrace(t);else if(!t.__stackCleaned__){var n=H(t);f.notEnumerableProp(t,"stack",n.message+"\n"+n.stack.join("\n")),f.notEnumerableProp(t,"__stackCleaned__",!0)}}}function D(t,e,n){if(Q.warnings){var i,o=new c(t);if(e)n._attachExtraTrace(o);else if(Q.longStackTraces&&(i=r._peekContext()))i.attachExtraTrace(o);else{var s=H(o);o.stack=s.message+"\n"+s.stack.join("\n")}A("warning",o)||q(o,"",!0)}}function N(t){for(var e=[],r=0;r<t.length;++r){var n=t[r],i="    (No stack trace)"===n||v.test(n),o=i&&K(n);i&&!o&&(g&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))}return e}function H(t){var e=t.stack,r=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<e.length;++r){var n=e[r];if("    (No stack trace)"===n||v.test(n))break}return r>0&&"SyntaxError"!=t.name&&(e=e.slice(r)),e}(t):["    (No stack trace)"],{message:r,stack:"SyntaxError"==t.name?e:N(e)}}function q(t,e,r){if("undefined"!=typeof console){var n;if(f.isObject(t)){var i=t.stack;n=e+y(i,t)}else n=e+String(t);"function"==typeof s?s(n,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function V(t,e,r,n){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(n):e(r,n))}catch(t){u.throwLater(t)}"unhandledRejection"===t?A(t,r,n)||i||q(r,"Unhandled rejection "):A(t,n)}function z(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{var r=JSON.stringify(t);e=r}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function Y(){return"function"==typeof $}var K=function(){return!1},W=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(t){var e=t.match(W);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function G(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);$(this,G),e>32&&this.uncycle()}f.inherits(G,Error),n.CapturedTrace=G,G.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],r={},n=0,i=this;void 0!==i;++n)e.push(i),i=i._parent;for(var n=(t=this._length=n)-1;n>=0;--n){var o=e[n].stack;void 0===r[o]&&(r[o]=n)}for(var n=0;n<t;++n){var s=e[n].stack,a=r[s];if(void 0!==a&&a!==n){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[n]._parent=void 0,e[n]._length=1;var u=n>0?e[n-1]:this;a<t-1?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,f=n-2;f>=0;--f)e[f]._length=c,c++;return}}}},G.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=H(t),r=e.message,n=[e.stack],i=this;void 0!==i;)n.push(N(i.stack.split("\n"))),i=i._parent;!function(t){for(var e=t[0],r=1;r<t.length;++r){for(var n=t[r],i=e.length-1,o=e[i],s=-1,a=n.length-1;a>=0;--a)if(n[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=n[a];if(e[i]!==u)break;e.pop(),i--}e=n}}(n),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(n),f.notEnumerableProp(t,"stack",function(t,e){for(var r=0;r<e.length-1;++r)e[r].push("From previous event:"),e[r]=e[r].join("\n");return r<e.length&&(e[r]=e[r].join("\n")),t+"\n"+e.join("\n")}(r,n)),f.notEnumerableProp(t,"__stackCleaned__",!0)}};var $=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():z(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,v=t,y=e;var r=Error.captureStackTrace;return K=function(t){return l.test(t)},function(t,e){Error.stackTraceLimit+=6,r(t,e),Error.stackTraceLimit-=6}}var n,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return v=/@/,y=e,g=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){n="stack"in t}return"stack"in i||!n||"number"!=typeof Error.stackTraceLimit?(y=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?z(e):e.toString()},null):(v=t,y=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},f.isNode&&e.stderr.isTTY?s=function(t,e){var r=e?"[33m":"[31m";console.warn(r+t+"[0m\n")}:f.isNode||"string"!=typeof(new Error).stack||(s=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var Q={warnings:m,longStackTraces:!1,cancellation:!1,monitoring:!1};return b&&r.longStackTraces(),{longStackTraces:function(){return Q.longStackTraces},warnings:function(){return Q.warnings},cancellation:function(){return Q.cancellation},monitoring:function(){return Q.monitoring},propagateFromFunction:function(){return M},boundValueFunction:function(){return B},checkForgottenReturns:function(t,e,r,n,i){if(void 0===t&&null!==e&&w){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&n._bitField))return;r&&(r+=" ");var o="",s="";if(e._trace){for(var a=e._trace.stack.split("\n"),u=N(a),c=u.length-1;c>=0;--c){var f=u[c];if(!p.test(f)){var h=f.match(d);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(u.length>0)for(var l=u[0],c=0;c<a.length;++c)if(a[c]===l){c>0&&(s="\n"+a[c-1]);break}}var v="a promise was created in a "+r+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;n._warn(v,!0,e)}},setBounds:function(t,e){if(Y()){for(var r,n,i=t.stack.split("\n"),o=e.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=X(i[u]);if(c){r=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=X(o[u]);if(c){n=c.fileName,a=c.line;break}}s<0||a<0||!r||!n||r!==n||s>=a||(K=function(t){if(l.test(t))return!0;var e=X(t);return!!(e&&e.fileName===r&&s<=e.line&&e.line<=a)})}},warn:D,deprecated:function(t,e){var r=t+" is deprecated and will be removed in a future version.";return e&&(r+=" Use "+e+" instead."),D(r)},CapturedTrace:G,fireDomEvent:x,fireGlobalEvent:k}}},{"./errors":12,"./util":36}],10:[function(t,e,r){"use strict";e.exports=function(t){function e(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,function(){throw e})},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var n=arguments[1];return n instanceof t&&n.suppressUnhandledRejections(),this.caught(r,function(){return n})}}},{}],11:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t.reduce,n=t.all;function i(){return n(this)}t.prototype.each=function(t){return r(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,e,e)},t.each=function(t,n){return r(t,n,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,n){return r(t,n,e,e)}}},{}],12:[function(t,e,r){"use strict";var n,i,o=t("./es5"),s=o.freeze,a=t("./util"),u=a.inherits,c=a.notEnumerableProp;function f(t,e){function r(n){if(!(this instanceof r))return new r(n);c(this,"message","string"==typeof n?n:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(r,Error),r}var h=f("Warning","warning"),l=f("CancellationError","cancellation error"),p=f("TimeoutError","timeout error"),d=f("AggregateError","aggregate error");try{n=TypeError,i=RangeError}catch(t){n=f("TypeError","type error"),i=f("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<v.length;++y)"function"==typeof Array.prototype[v[y]]&&(d.prototype[v[y]]=Array.prototype[v[y]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var g=0;function _(t){if(!(this instanceof _))return new _(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];n=i.join("\n"),e+=n+"\n"}return g--,e},u(_,Error);var m=Error.__BluebirdErrorTypes__;m||(m=s({CancellationError:l,TimeoutError:p,OperationalError:_,RejectionError:_,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:m,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:n,RangeError:i,CancellationError:m.CancellationError,OperationalError:m.OperationalError,TimeoutError:m.TimeoutError,AggregateError:m.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,r){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!(r&&!r.writable&&!r.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:a,names:a,defineProperty:function(t,e,r){return t[e]=r.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return s}},isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t.map;t.prototype.filter=function(t,n){return r(this,t,n,e)},t.filter=function(t,n,i){return r(t,n,i,e)}}},{}],15:[function(t,e,r){"use strict";e.exports=function(e,r,n){var i=t("./util"),o=e.CancellationError,s=i.errorObj,a=t("./catch_filter")(n);function u(t,e,r){this.promise=t,this.type=e,this.handler=r,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function f(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function h(){return p.call(this,this.promise._target()._settledValue())}function l(t){if(!f(this,t))return s.e=t,s}function p(t){var i=this.promise,a=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?a.call(i._boundValue()):a.call(i._boundValue(),t);if(u===n)return u;if(void 0!==u){i._setReturnedNonUndefined();var p=r(u,i);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),s.e=d,s}p.isPending()&&p._attachCancellationCallback(new c(this))}return p._then(h,l,void 0,this,void 0)}}}return i.isRejected()?(f(this),s.e=t,s):(f(this),t)}return u.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){f(this.finallyHandler)},e.prototype._passThrough=function(t,e,r,n){return"function"!=typeof t?this.then():this._then(r,n,void 0,new u(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,p,p)},e.prototype.tap=function(t){return this._passThrough(t,1,p)},e.prototype.tapCatch=function(t){var r=arguments.length;if(1===r)return this._passThrough(t,1,void 0,p);var n,o=new Array(r-1),s=0;for(n=0;n<r-1;++n){var u=arguments[n];if(!i.isObject(u))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(u)));o[s++]=u}o.length=s;var c=arguments[n];return this._passThrough(a(o,c,this),1,void 0,p)},u}},{"./catch_filter":7,"./util":36}],16:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){var a=t("./errors"),u=a.TypeError,c=t("./util"),f=c.errorObj,h=c.tryCatch,l=[];function p(t,r,i,o){if(s.cancellation()){var a=new e(n),u=this._finallyPromise=new e(n);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(n);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(l):l,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(p,o),p.prototype._isResolved=function(){return null===this._promise},p.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,r=void 0!==this._generator.return;if(r)this._promise._pushContext(),t=h(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=h(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},p.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},p.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(t){var r=this._promise;if(t===f)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(t.e,!1);var n=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(n);var o=i(n,this._promise);if(o instanceof e||null!==(o=function(t,r,n){for(var o=0;o<r.length;++o){n._pushContext();var s=h(r[o])(t);if(n._popContext(),s===f){n._pushContext();var a=e.reject(f.e);return n._popContext(),a}var u=i(s,n);if(u instanceof e)return u}return null}(o,this._yieldHandlers,this._promise))){var s=(o=o._target())._bitField;0==(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(e).yieldHandler,n=p,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new n(void 0,void 0,r,i),s=o.promise();return o._generator=e,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("expecting a function but got "+c.classString(t));l.push(t)},e.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new p(t,this),i=n.promise();return n._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){var a=t("./util");a.canEvaluate,a.tryCatch,a.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var n=[].slice.call(arguments);t&&n.pop();var i=new r(n).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){var a=e._getDomain,u=t("./util"),c=u.tryCatch,f=u.errorObj,h=e._async;function l(t,e,r,n){this.constructor$(t),this._promise._captureStackTrace();var i=a();this._callback=null===i?e:u.domainBind(i,e),this._preservedValues=n===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function p(t,r,i,o){if("function"!=typeof r)return n("expecting a function but got "+u.classString(r));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new l(t,r,s,o).promise()}u.inherits(l,r),l.prototype._asyncInit=function(){this._init$(void 0,-2)},l.prototype._init=function(){},l.prototype._promiseFulfilled=function(t,r){var n=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(r<0){if(n[r=-1*r-1]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return n[r]=t,this._queue.push(r),!1;null!==a&&(a[r]=t);var h=this._promise,l=this._callback,p=h._boundValue();h._pushContext();var d=c(l).call(p,t,r,o),v=h._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",h),d===f)return this._reject(d.e),!0;var y=i(d,this._promise);if(y instanceof e){var g=(y=y._target())._bitField;if(0==(50397184&g))return u>=1&&this._inFlight++,n[r]=y,y._proxy(this,-1*(r+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this._reject(y._reason()),!0):(this._cancel(),!0);d=y._value()}n[r]=d}var _=++this._totalResolved;return _>=o&&(null!==a?this._filter(n,a):this._resolve(n),!0)},l.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var n=t.pop();this._promiseFulfilled(r[n],n)}},l.prototype._filter=function(t,e){for(var r=e.length,n=new Array(r),i=0,o=0;o<r;++o)t[o]&&(n[i++]=e[o]);n.length=i,this._resolve(n)},l.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return p(this,t,e,null)},e.map=function(t,e,r,n){return p(t,e,r,n)}}},{"./util":36}],19:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o){var s=t("./util"),a=s.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+s.classString(t));return function(){var n=new e(r);n._captureStackTrace(),n._pushContext();var i=a(t).apply(this,arguments),s=n._popContext();return o.checkForgottenReturns(i,s,"Promise.method",n),n._resolveFromSyncValue(i),n}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+s.classString(t));var n,u=new e(r);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],f=arguments[2];n=s.isArray(c)?a(t).apply(f,c):a(t).call(f,c)}else n=a(t)();var h=u._popContext();return o.checkForgottenReturns(n,h,"Promise.try",u),u._resolveFromSyncValue(n),u},e.prototype._resolveFromSyncValue=function(t){t===s.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,r){"use strict";var n=t("./util"),i=n.maybeWrapAsError,o=t("./errors"),s=o.OperationalError,a=t("./es5"),u=/^(?:name|message|stack|cause)$/;function c(t){var e;if(function(t){return t instanceof Error&&a.getPrototypeOf(t)===Error.prototype}(t)){(e=new s(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var r=a.keys(t),i=0;i<r.length;++i){var o=r[i];u.test(o)||(e[o]=t[o])}return e}return n.markAsOriginatingFromRejection(t),t}e.exports=function(t,e){return function(r,n){if(null!==t){if(r){var o=c(i(r));t._attachExtraTrace(o),t._reject(o)}else if(e){var s=[].slice.call(arguments,1);t._fulfill(s)}else t._fulfill(n);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,r){"use strict";e.exports=function(e){var r=t("./util"),n=e._async,i=r.tryCatch,o=r.errorObj;function s(t,e){if(!r.isArray(t))return a.call(this,t,e);var s=i(e).apply(this._boundValue(),[null].concat(t));s===o&&n.throwLater(s.e)}function a(t,e){var r=this._boundValue(),s=void 0===t?i(e).call(r,null):i(e).call(r,null,t);s===o&&n.throwLater(s.e)}function u(t,e){if(!t){var r=new Error(t+"");r.cause=t,t=r}var s=i(e).call(this._boundValue(),t);s===o&&n.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var r=a;void 0!==e&&Object(e).spread&&(r=s),this._then(r,u,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,r,n){"use strict";r.exports=function(){var n=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new R.PromiseInspection(this._target())},o=function(t){return R.reject(new d(t))};function s(){}var a,u={},c=t("./util");a=c.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(R,"_getDomain",a);var f=t("./es5"),h=t("./async"),l=new h;f.defineProperty(R,"_async",{value:l});var p=t("./errors"),d=R.TypeError=p.TypeError;R.RangeError=p.RangeError;var v=R.CancellationError=p.CancellationError;R.TimeoutError=p.TimeoutError,R.OperationalError=p.OperationalError,R.RejectionError=p.OperationalError,R.AggregateError=p.AggregateError;var y=function(){},g={},_={},m=t("./thenables")(R,y),b=t("./promise_array")(R,y,m,o,s),w=t("./context")(R),E=w.create,x=t("./debuggability")(R,w),k=(x.CapturedTrace,t("./finally")(R,m,_)),C=t("./catch_filter")(_),S=t("./nodeback"),A=c.errorObj,T=c.tryCatch;function R(t){t!==y&&function(t,e){if(null==t||t.constructor!==R)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new d("expecting a function but got "+c.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function O(t){this.promise._resolveCallback(t)}function j(t){this.promise._rejectCallback(t,!1)}function P(t){var e=new R(y);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return R.prototype.toString=function(){return"[object Promise]"},R.prototype.caught=R.prototype.catch=function(t){var e=arguments.length;if(e>1){var r,n=new Array(e-1),i=0;for(r=0;r<e-1;++r){var s=arguments[r];if(!c.isObject(s))return o("Catch statement predicate: expecting an object but got "+c.classString(s));n[i++]=s}return n.length=i,t=arguments[r],this.then(void 0,C(n,t,this))}return this.then(void 0,t)},R.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},R.prototype.then=function(t,e){if(x.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var r=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(r+=", "+c.classString(e)),this._warn(r)}return this._then(t,e,void 0,void 0,void 0)},R.prototype.done=function(t,e){var r=this._then(t,e,void 0,void 0,void 0);r._setIsFinal()},R.prototype.spread=function(t){return"function"!=typeof t?o("expecting a function but got "+c.classString(t)):this.all()._then(t,void 0,void 0,g,void 0)},R.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},R.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},R.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},R.getNewLibraryCopy=r.exports,R.is=function(t){return t instanceof R},R.fromNode=R.fromCallback=function(t){var e=new R(y);e._captureStackTrace();var r=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=T(t)(S(e,r));return n===A&&e._rejectCallback(n.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},R.all=function(t){return new b(t).promise()},R.cast=function(t){var e=m(t);return e instanceof R||((e=new R(y))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},R.resolve=R.fulfilled=R.cast,R.reject=R.rejected=function(t){var e=new R(y);return e._captureStackTrace(),e._rejectCallback(t,!0),e},R.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+c.classString(t));return l.setScheduler(t)},R.prototype._then=function(t,e,r,n,i){var o=void 0!==i,s=o?i:new R(y),u=this._target(),f=u._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&f)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var h=a();if(0!=(50397184&f)){var p,d,g=u._settlePromiseCtx;0!=(33554432&f)?(d=u._rejectionHandler0,p=t):0!=(16777216&f)?(d=u._fulfillmentHandler0,p=e,u._unsetRejectionIsUnhandled()):(g=u._settlePromiseLateCancellationObserver,d=new v("late cancellation observer"),u._attachExtraTrace(d),p=e),l.invoke(g,u,{handler:null===h?p:"function"==typeof p&&c.domainBind(h,p),promise:s,receiver:n,value:d})}else u._addCallbacks(t,e,s,n,h);return s},R.prototype._length=function(){return 65535&this._bitField},R.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},R.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},R.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},R.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},R.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},R.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},R.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},R.prototype._isFinal=function(){return(4194304&this._bitField)>0},R.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},R.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},R.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},R.prototype._setAsyncGuaranteed=function(){l.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},R.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==u)return void 0===e&&this._isBound()?this._boundValue():e},R.prototype._promiseAt=function(t){return this[4*t-4+2]},R.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},R.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},R.prototype._boundValue=function(){},R.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,r=t._rejectionHandler0,n=t._promise0,i=t._receiverAt(0);void 0===i&&(i=u),this._addCallbacks(e,r,n,i,null)},R.prototype._migrateCallbackAt=function(t,e){var r=t._fulfillmentHandlerAt(e),n=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=u),this._addCallbacks(r,n,i,o,null)},R.prototype._addCallbacks=function(t,e,r,n,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=r,this._receiver0=n,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:c.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:c.domainBind(i,e));else{var s=4*o-4;this[s+2]=r,this[s+3]=n,"function"==typeof t&&(this[s+0]=null===i?t:c.domainBind(i,t)),"function"==typeof e&&(this[s+1]=null===i?e:c.domainBind(i,e))}return this._setLength(o+1),o},R.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},R.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(n(),!1);var r=m(t,this);if(!(r instanceof R))return this._fulfill(t);e&&this._propagateFrom(r,2);var i=r._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var s=this._length();s>0&&i._migrateCallback0(this);for(var a=1;a<s;++a)i._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var u=new v("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}else this._reject(n())}},R.prototype._rejectCallback=function(t,e,r){var n=c.ensureErrorObject(t),i=n===t;if(!i&&!r&&x.warnings()){var o="a promise was rejected with a non-error: "+c.classString(t);this._warn(o,!0)}this._attachExtraTrace(n,!!e&&i),this._reject(t)},R.prototype._resolveFromExecutor=function(t){if(t!==y){var e=this;this._captureStackTrace(),this._pushContext();var r=!0,n=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,r)});r=!1,this._popContext(),void 0!==n&&e._rejectCallback(n,!0)}},R.prototype._settlePromiseFromHandler=function(t,e,r,n){var i=n._bitField;if(0==(65536&i)){var o;n._pushContext(),e===g?r&&"number"==typeof r.length?o=T(t).apply(this._boundValue(),r):(o=A).e=new d("cannot .spread() a non-array: "+c.classString(r)):o=T(t).call(e,r);var s=n._popContext();0==(65536&(i=n._bitField))&&(o===_?n._reject(r):o===A?n._rejectCallback(o.e,!1):(x.checkForgottenReturns(o,s,"",n,this),n._resolveCallback(o)))}},R.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},R.prototype._followee=function(){return this._rejectionHandler0},R.prototype._setFollowee=function(t){this._rejectionHandler0=t},R.prototype._settlePromise=function(t,e,r,n){var o=t instanceof R,a=this._bitField,u=0!=(134217728&a);0!=(65536&a)?(o&&t._invokeInternalOnCancel(),r instanceof k&&r.isFinallyHandler()?(r.cancelPromise=t,T(e).call(r,n)===A&&t._reject(A.e)):e===i?t._fulfill(i.call(r)):r instanceof s?r._promiseCancelled(t):o||t instanceof b?t._cancel():r.cancel()):"function"==typeof e?o?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,r,n,t)):e.call(r,n,t):r instanceof s?r._isResolved()||(0!=(33554432&a)?r._promiseFulfilled(n,t):r._promiseRejected(n,t)):o&&(u&&t._setAsyncGuaranteed(),0!=(33554432&a)?t._fulfill(n):t._reject(n))},R.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,r=t.promise,n=t.receiver,i=t.value;"function"==typeof e?r instanceof R?this._settlePromiseFromHandler(e,n,i,r):e.call(n,i,r):r instanceof R&&r._reject(i)},R.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},R.prototype._settlePromise0=function(t,e,r){var n=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,t,i,e)},R.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},R.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var r=n();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():l.settlePromises(this))}},R.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return l.fatalError(t,c.isNode);(65535&e)>0?l.settlePromises(this):this._ensurePossibleRejectionHandled()}},R.prototype._fulfillPromises=function(t,e){for(var r=1;r<t;r++){var n=this._fulfillmentHandlerAt(r),i=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,o,e)}},R.prototype._rejectPromises=function(t,e){for(var r=1;r<t;r++){var n=this._rejectionHandlerAt(r),i=this._promiseAt(r),o=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(i,n,o,e)}},R.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,t),this._rejectPromises(e,r)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,t),this._fulfillPromises(e,n)}this._setLength(0)}this._clearCancellationData()},R.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},R.defer=R.pending=function(){x.deprecated("Promise.defer","new Promise");var t=new R(y);return{promise:t,resolve:O,reject:j}},c.notEnumerableProp(R,"_makeSelfResolutionError",n),t("./method")(R,y,m,o,x),t("./bind")(R,y,m,x),t("./cancel")(R,b,o,x),t("./direct_resolve")(R),t("./synchronous_inspection")(R),t("./join")(R,b,m,y,l,a),R.Promise=R,R.version="3.5.1",t("./map.js")(R,b,o,m,y,x),t("./call_get.js")(R),t("./using.js")(R,o,m,E,y,x),t("./timers.js")(R,y,x),t("./generators.js")(R,o,y,m,s,x),t("./nodeify.js")(R),t("./promisify.js")(R,y),t("./props.js")(R,b,m,o),t("./race.js")(R,y,m,o),t("./reduce.js")(R,b,o,m,y,x),t("./settle.js")(R,b,x),t("./some.js")(R,b,o),t("./filter.js")(R,y),t("./each.js")(R,y),t("./any.js")(R),c.toFastProperties(R),c.toFastProperties(R.prototype),P({a:1}),P({b:2}),P({c:3}),P(1),P(function(){}),P(void 0),P(!1),P(new R(y)),x.setBounds(h.firstLineError,c.lastLineError),R}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o){var s=t("./util");function a(t){var n=this._promise=new e(r);t instanceof e&&n._propagateFrom(t,3),n._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.isArray,s.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(r,o){var a=n(this._values,this._promise);if(a instanceof e){var u=(a=a._target())._bitField;if(this._values=a,0==(50397184&u))return this._promise._setAsyncGuaranteed(),a._then(t,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))0!==a.length?this._iterate(a):-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var c=i("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(c,!1)}},a.prototype._iterate=function(t){var r=this.getActualLength(t.length);this._length=r,this._values=this.shouldCopyValues()?new Array(r):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<r;++a){var u=n(t[a],i);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0==(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!=(33554432&s)?this._promiseFulfilled(u._value(),a):0!=(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var r=++this._totalResolved;return r>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var r=0;r<t.length;++r)t[r]instanceof e&&t[r].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util":36}],24:[function(t,e,r){"use strict";e.exports=function(e,r){var n={},i=t("./util"),o=t("./nodeback"),s=i.withAppended,a=i.maybeWrapAsError,u=i.canEvaluate,c=t("./errors").TypeError,f={__isPromisified__:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),l=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function p(t){return!h.test(t)}function d(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function v(t,e,r){var n=i.getDataPropertyOrDefault(t,e+r,f);return!!n&&d(n)}function y(t,e,r,n){for(var o=i.inheritedDataKeys(t),s=[],a=0;a<o.length;++a){var u=o[a],f=t[u],h=n===l||l(u,f,t);"function"!=typeof f||d(f)||v(t,u,e)||!n(u,f,t,h)||s.push(u,f)}return function(t,e,r){for(var n=0;n<t.length;n+=2){var i=t[n];if(r.test(i))for(var o=i.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(s,e,r),s}var g=function(t){return t.replace(/([$])/,"\\$")},_=u?void 0:function(t,u,c,f,h,l){var p=function(){return this}(),d=t;function v(){var i=u;u===n&&(i=this);var c=new e(r);c._captureStackTrace();var f="string"==typeof d&&this!==p?this[d]:t,h=o(c,l);try{f.apply(i,s(arguments,h))}catch(t){c._rejectCallback(a(t),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof d&&(t=f),i.notEnumerableProp(v,"__isPromisified__",!0),v};function m(t,e,r,o,s){for(var a=new RegExp(g(e)+"$"),u=y(t,e,a,r),c=0,f=u.length;c<f;c+=2){var h=u[c],l=u[c+1],p=h+e;if(o===_)t[p]=_(h,n,h,l,e,s);else{var d=o(l,function(){return _(h,n,h,l,e,s)});i.notEnumerableProp(d,"__isPromisified__",!0),t[p]=d}}return i.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new c("expecting a function but got "+i.classString(t));if(d(t))return t;var r=void 0===(e=Object(e)).context?n:e.context,o=!!e.multiArgs,s=function(t,e,r){return _(t,e,void 0,t,null,r)}(t,r,o);return i.copyDescriptors(t,s,p),s},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(e=Object(e)).multiArgs,n=e.suffix;"string"!=typeof n&&(n="Async");var o=e.filter;"function"!=typeof o&&(o=l);var s=e.promisifier;if("function"!=typeof s&&(s=_),!i.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=i.inheritedDataKeys(t),u=0;u<a.length;++u){var f=t[a[u]];"constructor"!==a[u]&&i.isClass(f)&&(m(f.prototype,n,o,s,r),m(f,n,o,s,r))}return m(t,n,o,s,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){var o,s=t("./util"),a=s.isObject,u=t("./es5");"function"==typeof Map&&(o=Map);var c=function(){var t=0,e=0;function r(r,n){this[t]=r,this[t+e]=n,t++}return function(n){e=n.size,t=0;var i=new Array(2*n.size);return n.forEach(r,i),i}}();function f(t){var e,r=!1;if(void 0!==o&&t instanceof o)e=c(t),r=!0;else{var n=u.keys(t),i=n.length;e=new Array(2*i);for(var s=0;s<i;++s){var a=n[s];e[s]=t[a],e[s+i]=a}}this.constructor$(e),this._isMap=r,this._init$(void 0,r?-6:-3)}function h(t){var r,o=n(t);return a(o)?(r=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new f(o).promise(),o instanceof e&&r._propagateFrom(o,2),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(f,r),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var r=++this._totalResolved;if(r>=this._length){var n;if(this._isMap)n=function(t){for(var e=new o,r=t.length/2|0,n=0;n<r;++n){var i=t[r+n],s=t[n];e.set(i,s)}return e}(this._values);else{n={};for(var i=this.length(),s=0,a=this.length();s<a;++s)n[this._values[s+i]]=this._values[s]}return this._resolve(n),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return h(this)},e.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,r){"use strict";function n(t){this._capacity=t,this._length=0,this._front=0}n.prototype._willBeOverCapacity=function(t){return this._capacity<t},n.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var r=this._front+e&this._capacity-1;this[r]=t,this._length=e+1},n.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=r,this._length=n},n.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},n.prototype.length=function(){return this._length},n.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},n.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var r=this._front,n=this._length,i=r+n&e-1;!function(t,e,r,n,i){for(var o=0;o<i;++o)r[o+n]=t[o+e],t[o+e]=void 0}(this,0,this,e,i)},e.exports=n},{}],27:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){var o=t("./util"),s=function(t){return t.then(function(e){return a(e,t)})};function a(t,a){var u=n(t);if(u instanceof e)return s(u);if(null===(t=o.asArray(t)))return i("expecting an array or an iterable object but got "+o.classString(t));var c=new e(r);void 0!==a&&c._propagateFrom(a,3);for(var f=c._fulfill,h=c._reject,l=0,p=t.length;l<p;++l){var d=t[l];(void 0!==d||l in t)&&e.cast(d)._then(f,h,void 0,c,null)}return c}e.race=function(t){return a(t,void 0)},e.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){var a=e._getDomain,u=t("./util"),c=u.tryCatch;function f(t,r,n,i){this.constructor$(t);var s=a();this._fn=null===s?r:u.domainBind(s,r),void 0!==n&&(n=e.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function h(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function l(t,e,r,i){if("function"!=typeof e)return n("expecting a function but got "+u.classString(e));var o=new f(t,e,r,i);return o.promise()}function p(t){this.accum=t,this.array._gotAccum(t);var r=i(this.value,this.array._promise);return r instanceof e?(this.array._currentCancellable=r,r._then(d,void 0,void 0,this,void 0)):d.call(this,r)}function d(t){var r,n=this.array,i=n._promise,o=c(n._fn);i._pushContext(),(r=void 0!==n._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(n._currentCancellable=r);var a=i._popContext();return s.checkForgottenReturns(r,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",i),r}u.inherits(f,r),f.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},f.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},f.prototype._init=function(){},f.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},f.prototype.shouldCopyValues=function(){return!1},f.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},f.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},f.prototype._iterate=function(t){var r,n;this._values=t;var i=t.length;if(void 0!==this._initialValue?(r=this._initialValue,n=0):(r=e.resolve(t[0]),n=1),this._currentCancellable=r,!r.isRejected())for(;n<i;++n){var o={accum:null,value:t[n],index:n,length:i,array:this};r=r._then(p,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(h,h,void 0,r,this)},e.prototype.reduce=function(t,e){return l(this,t,e,null)},e.reduce=function(t,e,r,n){return l(t,e,r,n)}}},{"./util":36}],29:[function(t,i,o){"use strict";var s,a=t("./util"),u=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var c=r.setImmediate,f=e.nextTick;s=a.isRecentNode?function(t){c.call(r,t)}:function(t){f.call(e,t)}}else if("function"==typeof u&&"function"==typeof u.resolve){var h=u.resolve();s=function(t){h.then(t)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==n?function(t){n(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var t=document.createElement("div"),e={attributes:!0},r=!1,n=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),r=!1});return i.observe(n,e),function(i){var o=new MutationObserver(function(){o.disconnect(),i()});o.observe(t,e),r||(r=!0,n.classList.toggle("foo"))}}();i.exports=s},{"./util":36}],30:[function(t,e,r){"use strict";e.exports=function(e,r,n){var i=e.PromiseInspection,o=t("./util");function s(t){this.constructor$(t)}o.inherits(s,r),s.prototype._promiseResolved=function(t,e){this._values[t]=e;var r=++this._totalResolved;return r>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseFulfilled=function(t,e){var r=new i;return r._bitField=33554432,r._settledValueField=t,this._promiseResolved(e,r)},s.prototype._promiseRejected=function(t,e){var r=new i;return r._bitField=16777216,r._settledValueField=t,this._promiseResolved(e,r)},e.settle=function(t){return n.deprecated(".settle()",".reflect()"),new s(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,r){"use strict";e.exports=function(e,r,n){var i=t("./util"),o=t("./errors").RangeError,s=t("./errors").AggregateError,a=i.isArray,u={};function c(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(t,e){if((0|e)!==e||e<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new c(t),i=r.promise();return r.setHowMany(e),r.init(),i}i.inherits(c,r),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=a(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(t){this._howMany=t},c.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new s,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(t){this._values.push(t)},c.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return f(t,e)},e.prototype.some=function(t){return f(this,t)},e._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(t,e,r){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var r=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return r.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),n.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,r){"use strict";e.exports=function(e,r){var n=t("./util"),i=n.errorObj,o=n.isObject,s={}.hasOwnProperty;return function(t,a){if(o(t)){if(t instanceof e)return t;var u=function(t){try{return function(t){return t.then}(t)}catch(t){return i.e=t,i}}(t);if(u===i){a&&a._pushContext();var c=e.reject(u.e);return a&&a._popContext(),c}if("function"==typeof u){if(function(t){try{return s.call(t,"_promise0")}catch(t){return!1}}(t)){var c=new e(r);return t._then(c._fulfill,c._reject,void 0,c,null),c}return function(t,o,s){var a=new e(r),u=a;s&&s._pushContext(),a._captureStackTrace(),s&&s._popContext();var c=!0,f=n.tryCatch(o).call(t,function(t){a&&(a._resolveCallback(t),a=null)},function(t){a&&(a._rejectCallback(t,c,!0),a=null)});return c=!1,a&&f===i&&(a._rejectCallback(f.e,!0,!0),a=null),u}(t,u,a)}}return t}}},{"./util":36}],34:[function(t,e,r){"use strict";e.exports=function(e,r,n){var i=t("./util"),o=e.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,i){var o,u;return void 0!==i?(o=e.resolve(i)._then(a,null,null,t,void 0),n.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(r),u=setTimeout(function(){o._fulfill()},+t),n.cancellation()&&o._setOnCancel(new s(u)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function c(t){return clearTimeout(this.handle),t}function f(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return u(t,this)},e.prototype.timeout=function(t,e){var r,a;t=+t;var u=new s(setTimeout(function(){r.isPending()&&function(t,e,r){var n;n="string"!=typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._reject(n),null!=r&&r.cancel()}(r,e,a)},t));return n.cancellation()?(a=this.then(),(r=a._then(c,f,void 0,u,void 0))._setOnCancel(u)):r=this._then(c,f,void 0,u,void 0),r}}},{"./util":36}],35:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o,s){var a=t("./util"),u=t("./errors").TypeError,c=t("./util").inherits,f=a.errorObj,h=a.tryCatch,l={};function p(t){setTimeout(function(){throw t},0)}function d(t,r){var i=0,s=t.length,a=new e(o);return function o(){if(i>=s)return a._fulfill();var u=function(t){var e=n(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[i++]);if(u instanceof e&&u._isDisposable()){try{u=n(u._getDisposer().tryDispose(r),t.promise)}catch(t){return p(t)}if(u instanceof e)return u._then(o,p,null,null,null)}o()}(),a}function v(t,e,r){this._data=t,this._promise=e,this._context=r}function y(t,e,r){this.constructor$(t,e,r)}function g(t){return v.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function _(t){this.length=t,this.promise=null,this[t-1]=null}v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():l},v.prototype.tryDispose=function(t){var e=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=e!==l?this.doDispose(e,t):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},v.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(y,v),y.prototype.doDispose=function(t,e){var r=this.data();return r.call(t,t,e)},_.prototype._resultCancelled=function(){for(var t=this.length,r=0;r<t;++r){var n=this[r];n instanceof e&&n.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var i,o=arguments[t-1];if("function"!=typeof o)return r("expecting a function but got "+a.classString(o));var u=!0;2===t&&Array.isArray(arguments[0])?(i=arguments[0],t=i.length,u=!1):(i=arguments,t--);for(var c=new _(t),l=0;l<t;++l){var p=i[l];if(v.isDisposer(p)){var y=p;(p=p.promise())._setDisposable(y)}else{var m=n(p);m instanceof e&&(p=m._then(g,null,null,{resources:c,index:l},void 0))}c[l]=p}for(var b=new Array(c.length),l=0;l<b.length;++l)b[l]=e.resolve(c[l]).reflect();var w=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var r=t[e];if(r.isRejected())return f.e=r.error(),f;if(!r.isFulfilled())return void w.cancel();t[e]=r.value()}E._pushContext(),o=h(o);var n=u?o.apply(void 0,t):o(t),i=E._popContext();return s.checkForgottenReturns(n,i,"Promise.using",E),n}),E=w.lastly(function(){var t=new e.PromiseInspection(w);return d(c,t)});return c.promise=E,E._setOnCancel(c),E},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new y(t,this,i());throw new u}}},{"./errors":12,"./util":36}],36:[function(t,n,i){"use strict";var o=t("./es5"),s="undefined"==typeof navigator,a={e:{}},u,c="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:void 0!==this?this:null;function f(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function h(t){return u=t,f}var l=function(t,e){var r={}.hasOwnProperty;function n(){for(var n in this.constructor=t,this.constructor$=e,e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}return n.prototype=e.prototype,t.prototype=new n,t.prototype};function p(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function d(t){return"function"==typeof t||"object"==typeof t&&null!==t}function v(t){return p(t)?new Error(A(t)):t}function y(t,e){var r,n=t.length,i=new Array(n+1);for(r=0;r<n;++r)i[r]=t[r];return i[r]=e,i}function g(t,e,r){if(!o.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var n=Object.getOwnPropertyDescriptor(t,e);return null!=n?null==n.get&&null==n.set?n.value:r:void 0}function _(t,e,r){if(p(t))return t;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,e,n),t}function m(t){throw t}var b=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1};if(o.isES5){var r=Object.getOwnPropertyNames;return function(t){for(var n=[],i=Object.create(null);null!=t&&!e(t);){var s;try{s=r(t)}catch(t){return n}for(var a=0;a<s.length;++a){var u=s[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&n.push(u)}}t=o.getPrototypeOf(t)}return n}}var n={}.hasOwnProperty;return function(r){if(e(r))return[];var i=[];t:for(var o in r)if(n.call(r,o))i.push(o);else{for(var s=0;s<t.length;++s)if(n.call(t[s],o))continue t;i.push(o)}return i}}(),w=/this\s*\.\s*\S+\s*=/;function E(t){try{if("function"==typeof t){var e=o.names(t.prototype),r=o.isES5&&e.length>1,n=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=w.test(t+"")&&o.names(t).length>0;if(r||n||i)return!0}return!1}catch(t){return!1}}function x(t){function e(){}e.prototype=t;for(var r=8;r--;)new e;return t}var k=/^[a-z$_][a-z$_0-9]*$/i;function C(t){return k.test(t)}function S(t,e,r){for(var n=new Array(t),i=0;i<t;++i)n[i]=e+i+r;return n}function A(t){try{return t+""}catch(t){return"[no string representation]"}}function T(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function R(t){try{_(t,"isOperational",!0)}catch(t){}}function O(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function j(t){return T(t)&&o.propertyIsWritable(t,"stack")}var P="stack"in new Error?function(t){return j(t)?t:new Error(A(t))}:function(t){if(j(t))return t;try{throw new Error(A(t))}catch(t){return t}};function I(t){return{}.toString.call(t)}function F(t,e,r){for(var n=o.names(t),i=0;i<n.length;++i){var s=n[i];if(r(s))try{o.defineProperty(e,s,o.getDescriptor(t,s))}catch(t){}}}var M=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var B="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,r=[],n=t[Symbol.iterator]();!(e=n.next()).done;)r.push(e.value);return r};M=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?B(t):null}}var L=void 0!==e&&"[object process]"===I(e).toLowerCase(),U=void 0!==e&&void 0!==e.env;function D(t){return U?e.env[t]:void 0}function N(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function H(t,e){return t.bind(e)}var q={isClass:E,isIdentifier:C,inheritedDataKeys:b,getDataPropertyOrDefault:g,thrower:m,isArray:o.isArray,asArray:M,notEnumerableProp:_,isPrimitive:p,isObject:d,isError:T,canEvaluate:s,errorObj:a,tryCatch:h,inherits:l,withAppended:y,maybeWrapAsError:v,toFastProperties:x,filledRange:S,toString:A,canAttachTrace:j,ensureErrorObject:P,originatesFromRejection:O,markAsOriginatingFromRejection:R,classString:I,copyDescriptors:F,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:L,hasEnvVariables:U,env:D,global:c,getNativePromise:N,domainBind:H};q.isRecentNode=q.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),q.isNode&&q.toFastProperties(e);try{throw new Error}catch(t){q.lastLineError=t}n.exports=q},{"./es5":13}]},{},[4])(4)}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,r(42),r(14),r(177).setImmediate)},function(t,e,r){"use strict";var n=r(36),i=r(37);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},function(t,e,r){(function(t,e){(function(){var r,n,i,o;for(i=(void 0!==t&&null!==t?t.exports:void 0)||(window.Base58={}),r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n={},o=0;o<r.length;)n[r.charAt(o)]=o,o++;i.encode=function(t){var e,n,i;if(0===t.length)return"";for(o=void 0,i=void 0,n=[0],o=0;o<t.length;){for(i=0;i<n.length;)n[i]<<=8,i++;for(n[0]+=t[o],e=0,i=0;i<n.length;)n[i]+=e,e=n[i]/58|0,n[i]%=58,++i;for(;e;)n.push(e%58),e=e/58|0;o++}for(o=0;0===t[o]&&o<t.length-1;)n.push(0),o++;return n.reverse().map(function(t){return r[t]}).join("")},i.decode=function(t){var r,i,s,a;if(0===t.length)return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:e)(0);for(o=void 0,a=void 0,r=[0],o=0;o<t.length;){if(!((i=t[o])in n))throw"Base58.decode received unacceptable input. Character '"+i+"' is not in the Base58 alphabet.";for(a=0;a<r.length;)r[a]*=58,a++;for(r[0]+=n[i],s=0,a=0;a<r.length;)r[a]+=s,s=r[a]>>8,r[a]&=255,++a;for(;s;)r.push(255&s),s>>=8;o++}for(o=0;"1"===t[o]&&o<t.length-1;)r.push(0),o++;return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:e)(r.reverse())}}).call(this)}).call(this,r(96)(t),r(6).Buffer)},function(t,e,r){var n=r(3).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(12),i=r(22),o=r(48)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,r){"use strict";var n=r(3),i=r(0),o=r(5),s=r(7),a=r(2)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:n[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(2)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},t(o)}catch(t){}return r}},function(t,e,r){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,r(42))},function(t,e,r){var n=r(6),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=s),o(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";(function(e){var n=s(r(43)),i=s(r(26)),o=s(r(27));function s(t){return t&&t.__esModule?t:{default:t}}var a=r(35).sign,u=r(15),c=u.addressToKey,f=u.isValidEcPrivateAddress,h=r(57).Entry,l=r(19),p=l.sha256,d=l.sha256d,v=r(16).CHAIN_CREATION_COST,y=function(){function t(e){if((0,i.default)(this,t),!(e instanceof h))throw new Error("Argument on Chain constructor should be an instance of Entry");var r=g(e);this.firstEntry=h.builder(e).chainId(r).build(),this.id=r,(0,n.default)(this)}return(0,o.default)(t,[{key:"ecCost",value:function(){return v+this.firstEntry.ecCost()}},{key:"idHex",get:function(){return this.id.toString("hex")}}]),t}();function g(t){if(0===t.extIds.length)throw new Error("First entry of a chain must contain at least 1 external id");var r=t.extIds.map(p),n=e.concat(r);return p(n)}function _(t,r){if(w(t),!f(r))throw new Error(r+" is not a valid EC private address");var n=m(t),i=c(r),o=a.keyPair.fromSeed(i),s=e.from(o.publicKey),u=e.from(a.detached(n,o.secretKey));return e.concat([n,s,u])}function m(t){var r=t.firstEntry,n=r.hash(),i=e.alloc(104);return i.writeInt8(0),i.writeIntBE(r.timestamp||Date.now(),1,6),d(t.id).copy(i,7),d(e.concat([n,t.id])).copy(i,39),n.copy(i,71),i.writeInt8(t.ecCost(),103),i}function b(t){return w(t),t.firstEntry.marshalBinary()}function w(t){if(!(t instanceof y))throw new Error("Argument must be an instance of Chain")}t.exports={Chain:y,computeChainTxId:function(t){return w(t),p(m(t))},validateChainInstance:w,computeChainId:g,composeChainCommit:_,composeChainReveal:b,composeChain:function(t,e){return w(t),{commit:_(t,e),reveal:b(t)}}}}).call(this,r(6).Buffer)},function(t,e,r){t.exports={default:r(152),__esModule:!0}},function(t,e,r){r(100),t.exports=r(0).Object.assign},function(t,e,r){var n=r(1);n(n.S+n.F,"Object",{assign:r(101)})},function(t,e,r){"use strict";var n=r(29),i=r(51),o=r(33),s=r(22),a=r(45),u=Object.assign;t.exports=!u||r(11)(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var r=s(t),u=arguments.length,c=1,f=i.f,h=o.f;u>c;)for(var l,p=a(arguments[c++]),d=f?n(p).concat(f(p)):n(p),v=d.length,y=0;v>y;)h.call(p,l=d[y++])&&(r[l]=p[l]);return r}:u},function(t,e,r){var n=r(13),i=r(31),o=r(103);t.exports=function(t){return function(e,r,s){var a,u=n(e),c=i(u.length),f=o(s,c);if(t&&r!=r){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}}},function(t,e,r){var n=r(47),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):o(t,e)}},function(t,e,r){var n=r(47),i=r(46);t.exports=function(t){return function(e,r){var o,s,a=String(i(e)),u=n(r),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(t,e,r){"use strict";var n=r(41),i=r(20),o=r(23),s={};r(9)(s,r(2)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(s,{next:i(1,r)}),o(t,e+" Iterator")}},function(t,e,r){var n=r(5),i=r(8),o=r(29);t.exports=r(7)?Object.defineProperties:function(t,e){i(t);for(var r,s=o(e),a=s.length,u=0;a>u;)n.f(t,r=s[u++],e[r]);return t}},function(t,e,r){"use strict";var n=r(108),i=r(72),o=r(21),s=r(13);t.exports=r(52)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e,r){"use strict";var n=r(38);t.exports.f=function(t){return new function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=n(e),this.reject=n(r)}(t)}},function(t,e,r){t.exports={default:r(111),__esModule:!0}},function(t,e,r){r(112);var n=r(0).Object;t.exports=function(t,e,r){return n.defineProperty(t,e,r)}},function(t,e,r){var n=r(1);n(n.S+n.F*!r(7),"Object",{defineProperty:r(5).f})},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=c(t),n=r[0],s=r[1],a=new o(function(t,e,r){return 3*(e+r)/4-r}(0,n,s)),u=0,f=s>0?n-4:n,h=0;h<f;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,a[u++]=255&e);1===s&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(h(t,s,s+16383>a?a:s+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function h(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(f(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?i-1:0,l=r?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+h],h+=l,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),o-=c}return(p?-1:1)*s*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[r+p]=255&s,p+=d,s/=256,c-=8);t[r+p-d]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){r(17),r(24),t.exports=r(54).f("iterator")},function(t,e,r){t.exports={default:r(118),__esModule:!0}},function(t,e,r){r(119),r(39),r(122),r(123),t.exports=r(0).Symbol},function(t,e,r){"use strict";var n=r(3),i=r(12),o=r(7),s=r(1),a=r(71),u=r(34).KEY,c=r(11),f=r(49),h=r(23),l=r(32),p=r(2),d=r(54),v=r(55),y=r(120),g=r(78),_=r(8),m=r(4),b=r(13),w=r(44),E=r(20),x=r(41),k=r(121),C=r(76),S=r(5),A=r(29),T=C.f,R=S.f,O=k.f,j=n.Symbol,P=n.JSON,I=P&&P.stringify,F=p("_hidden"),M=p("toPrimitive"),B={}.propertyIsEnumerable,L=f("symbol-registry"),U=f("symbols"),D=f("op-symbols"),N=Object.prototype,H="function"==typeof j,q=n.QObject,V=!q||!q.prototype||!q.prototype.findChild,z=o&&c(function(){return 7!=x(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=T(N,e);n&&delete N[e],R(t,e,r),n&&t!==N&&R(N,e,n)}:R,Y=function(t){var e=U[t]=x(j.prototype);return e._k=t,e},K=H&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},W=function(t,e,r){return t===N&&W(D,e,r),_(t),e=w(e,!0),_(r),i(U,e)?(r.enumerable?(i(t,F)&&t[F][e]&&(t[F][e]=!1),r=x(r,{enumerable:E(0,!1)})):(i(t,F)||R(t,F,E(1,{})),t[F][e]=!0),z(t,e,r)):R(t,e,r)},X=function(t,e){_(t);for(var r,n=y(e=b(e)),i=0,o=n.length;o>i;)W(t,r=n[i++],e[r]);return t},G=function(t){var e=B.call(this,t=w(t,!0));return!(this===N&&i(U,t)&&!i(D,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,F)&&this[F][t])||e)},$=function(t,e){if(t=b(t),e=w(e,!0),t!==N||!i(U,e)||i(D,e)){var r=T(t,e);return!r||!i(U,e)||i(t,F)&&t[F][e]||(r.enumerable=!0),r}},Q=function(t){for(var e,r=O(b(t)),n=[],o=0;r.length>o;)i(U,e=r[o++])||e==F||e==u||n.push(e);return n},Z=function(t){for(var e,r=t===N,n=O(r?D:b(t)),o=[],s=0;n.length>s;)!i(U,e=n[s++])||r&&!i(N,e)||o.push(U[e]);return o};H||(a((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(r){this===N&&e.call(D,r),i(this,F)&&i(this[F],t)&&(this[F][t]=!1),z(this,t,E(1,r))};return o&&V&&z(N,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",function(){return this._k}),C.f=$,S.f=W,r(79).f=k.f=Q,r(33).f=G,r(51).f=Z,o&&!r(40)&&a(N,"propertyIsEnumerable",G,!0),d.f=function(t){return Y(p(t))}),s(s.G+s.W+s.F*!H,{Symbol:j});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;J.length>tt;)p(J[tt++]);for(var et=A(p.store),rt=0;et.length>rt;)v(et[rt++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return i(L,t+="")?L[t]:L[t]=j(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,e){return void 0===e?x(t):X(x(t),e)},defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),P&&s(s.S+s.F*(!H||c(function(){var t=j();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(m(e)||void 0!==t)&&!K(t))return g(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!K(e))return e}),n[1]=e,I.apply(P,n)}}),j.prototype[M]||r(9)(j.prototype,M,j.prototype.valueOf),h(j,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,r){var n=r(29),i=r(51),o=r(33);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var s,a=r(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,r){var n=r(13),i=r(79).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(n(t))}},function(t,e,r){r(55)("asyncIterator")},function(t,e,r){r(55)("observable")},function(t,e,r){r(39),r(17),r(24),r(125),r(129),r(131),r(132),t.exports=r(0).Set},function(t,e,r){"use strict";var n=r(81),i=r(56);t.exports=r(82)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,r){var n=r(10),i=r(45),o=r(22),s=r(31),a=r(127);t.exports=function(t,e){var r=1==t,u=2==t,c=3==t,f=4==t,h=6==t,l=5==t||h,p=e||a;return function(e,a,d){for(var v,y,g=o(e),_=i(g),m=n(a,d,3),b=s(_.length),w=0,E=r?p(e,b):u?p(e,0):void 0;b>w;w++)if((l||w in _)&&(y=m(v=_[w],w,g),t))if(r)E[w]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(f)return!1;return h?-1:c||f?f:E}}},function(t,e,r){var n=r(128);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){var n=r(4),i=r(78),o=r(2)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,r){var n=r(1);n(n.P+n.R,"Set",{toJSON:r(83)("Set")})},function(t,e,r){var n=r(25);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},function(t,e,r){r(84)("Set")},function(t,e,r){r(85)("Set")},function(t,e,r){"use strict";(function(e){var n=r(18),i=r(214),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=r(165):void 0!==e&&(t=r(165)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){a.headers[t]={}}),n.forEach(["post","put","patch"],function(t){a.headers[t]=n.merge(o)}),t.exports=a}).call(this,r(42))},function(t,e,r){t.exports={default:r(135),__esModule:!0}},function(t,e,r){r(17),r(136),t.exports=r(0).Array.from},function(t,e,r){"use strict";var n=r(10),i=r(1),o=r(22),s=r(73),a=r(74),u=r(31),c=r(137),f=r(53);i(i.S+i.F*!r(93)(function(t){Array.from(t)}),"Array",{from:function(t){var e,r,i,h,l=o(t),p="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,y=void 0!==v,g=0,_=f(l);if(y&&(v=n(v,d>2?arguments[2]:void 0,2)),void 0==_||p==Array&&a(_))for(r=new p(e=u(l.length));e>g;g++)c(r,g,y?v(l[g],g):l[g]);else for(h=_.call(l),r=new p;!(i=h.next()).done;g++)c(r,g,y?s(h,v,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,e,r){"use strict";var n=r(5),i=r(20);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},function(t,e){},function(t,e){t.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function n(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function i(t){return!0===(t&&t.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var o={},s={};function a(t,e){var r,n,i;return e?(i=0<=(t>>>=0)&&t<256)&&(n=s[t])?n:(r=c(t,(0|t)<0?-1:0,!0),i&&(s[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(n=o[t])?n:(r=c(t,t<0?-1:0,!1),i&&(o[t]=r),r)}function u(t,e){if(isNaN(t))return e?_:g;if(e){if(t<0)return _;if(t>=d)return x}else{if(t<=-v)return k;if(t+1>=v)return E}return t<0?u(-t,e).neg():c(t%p|0,t/p|0,e)}function c(t,e,r){return new n(t,e,r)}n.fromInt=a,n.fromNumber=u,n.fromBits=c;var f=Math.pow;function h(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return g;if("number"==typeof e?(r=e,e=!1):e=!!e,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return h(t.substring(1),e,r).neg();for(var i=u(f(r,8)),o=g,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+a),r);if(a<8){var l=u(f(r,a));o=o.mul(l).add(u(c))}else o=(o=o.mul(i)).add(u(c))}return o.unsigned=e,o}function l(t,e){return"number"==typeof t?u(t,e):"string"==typeof t?h(t,e):c(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}n.fromString=h,n.fromValue=l;var p=4294967296,d=p*p,v=d/2,y=a(1<<24),g=a(0);n.ZERO=g;var _=a(0,!0);n.UZERO=_;var m=a(1);n.ONE=m;var b=a(1,!0);n.UONE=b;var w=a(-1);n.NEG_ONE=w;var E=c(-1,2147483647,!1);n.MAX_VALUE=E;var x=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var k=c(0,-2147483648,!1);n.MIN_VALUE=k;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var e=u(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=u(f(t,6),this.unsigned),o=this,s="";;){var a=o.div(i),c=(o.sub(a.mul(i)).toInt()>>>0).toString(t);if((o=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(t){return i(t)||(t=l(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},C.eq=C.equals,C.notEquals=function(t){return!this.eq(t)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(t){return this.comp(t)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(t){return this.comp(t)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(t){return this.comp(t)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(t){return this.comp(t)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(t){if(i(t)||(t=l(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(m)},C.neg=C.negate,C.add=function(t){i(t)||(t=l(t));var e=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,s=t.high>>>16,a=65535&t.high,u=t.low>>>16,f=0,h=0,p=0,d=0;return p+=(d+=o+(65535&t.low))>>>16,h+=(p+=n+u)>>>16,f+=(h+=r+a)>>>16,f+=e+s,c((p&=65535)<<16|(d&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},C.subtract=function(t){return i(t)||(t=l(t)),this.add(t.neg())},C.sub=C.subtract,C.multiply=function(t){if(this.isZero())return g;if(i(t)||(t=l(t)),r)return c(r.mul(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned);if(t.isZero())return g;if(this.eq(k))return t.isOdd()?k:g;if(t.eq(k))return this.isOdd()?k:g;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(y)&&t.lt(y))return u(this.toNumber()*t.toNumber(),this.unsigned);var e=this.high>>>16,n=65535&this.high,o=this.low>>>16,s=65535&this.low,a=t.high>>>16,f=65535&t.high,h=t.low>>>16,p=65535&t.low,d=0,v=0,_=0,m=0;return _+=(m+=s*p)>>>16,v+=(_+=o*p)>>>16,_&=65535,v+=(_+=s*h)>>>16,d+=(v+=n*p)>>>16,v&=65535,d+=(v+=o*h)>>>16,v&=65535,d+=(v+=s*f)>>>16,d+=e*p+n*h+o*f+s*a,c((_&=65535)<<16|(m&=65535),(d&=65535)<<16|(v&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(t){if(i(t)||(t=l(t)),t.isZero())throw Error("division by zero");var e,n,o;if(r)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?c((this.unsigned?r.div_u:r.div_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:g;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return _;if(t.gt(this.shru(1)))return b;o=_}else{if(this.eq(k))return t.eq(m)||t.eq(w)?k:t.eq(k)?m:(e=this.shr(1).div(t).shl(1)).eq(g)?t.isNegative()?m:w:(n=this.sub(t.mul(e)),o=e.add(n.div(t)));else if(t.eq(k))return this.unsigned?_:g;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=g}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(e)/Math.LN2),a=s<=48?1:f(2,s-48),h=u(e),p=h.mul(t);p.isNegative()||p.gt(n);)p=(h=u(e-=a,this.unsigned)).mul(t);h.isZero()&&(h=m),o=o.add(h),n=n.sub(p)}return o},C.div=C.divide,C.modulo=function(t){return i(t)||(t=l(t)),r?c((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return c(~this.low,~this.high,this.unsigned)},C.and=function(t){return i(t)||(t=l(t)),c(this.low&t.low,this.high&t.high,this.unsigned)},C.or=function(t){return i(t)||(t=l(t)),c(this.low|t.low,this.high|t.high,this.unsigned)},C.xor=function(t){return i(t)||(t=l(t)),c(this.low^t.low,this.high^t.high,this.unsigned)},C.shiftLeft=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):c(0,this.low<<t-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):c(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(t){if(i(t)&&(t=t.toInt()),0===(t&=63))return this;var e=this.high;return t<32?c(this.low>>>t|e<<32-t,e>>>t,this.unsigned):c(32===t?e:e>>>t-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},C.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},C.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},n.fromBytes=function(t,e,r){return r?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},function(t,e,r){"use strict";var n=r(36),i=r(88),o=r(141),s=r(37),a=n.sum32,u=n.sum32_4,c=n.sum32_5,f=o.ch32,h=o.maj32,l=o.s0_256,p=o.s1_256,d=o.g0_256,v=o.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(_,y),t.exports=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(v(r[n-2]),r[n-7],d(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],y=this.h[2],g=this.h[3],_=this.h[4],m=this.h[5],b=this.h[6],w=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var E=c(w,p(_),f(_,m,b),this.k[n],r[n]),x=a(l(i),h(i,o,y));w=b,b=m,m=_,_=a(g,E),g=y,y=o,o=i,i=a(E,x)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],_),this.h[5]=a(this.h[5],m),this.h[6]=a(this.h[6],b),this.h[7]=a(this.h[7],w)},_.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(t,e,r){"use strict";var n=r(36).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function s(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?s(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=s,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},function(t,e,r){"use strict";var n=r(36),i=r(88),o=r(37),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,f=n.sum64,h=n.sum64_hi,l=n.sum64_lo,p=n.sum64_4_hi,d=n.sum64_4_lo,v=n.sum64_5_hi,y=n.sum64_5_lo,g=i.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}function b(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function w(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function E(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function x(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function k(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function C(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function S(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function A(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function T(t,e){var r=s(t,e,1)^s(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function R(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function O(t,e){var r=s(t,e,19)^s(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function j(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(m,g),t.exports=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=O(r[n-4],r[n-3]),o=j(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=T(r[n-30],r[n-29]),c=R(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=p(i,o,s,a,u,c,f,h),r[n+1]=d(i,o,s,a,u,c,f,h)}},m.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],p=this.h[6],d=this.h[7],g=this.h[8],_=this.h[9],m=this.h[10],T=this.h[11],R=this.h[12],O=this.h[13],j=this.h[14],P=this.h[15];o(this.k.length===r.length);for(var I=0;I<r.length;I+=2){var F=j,M=P,B=S(g,_),L=A(g,_),U=b(g,_,m,T,R),D=w(g,_,m,T,R,O),N=this.k[I],H=this.k[I+1],q=r[I],V=r[I+1],z=v(F,M,B,L,U,D,N,H,q,V),Y=y(F,M,B,L,U,D,N,H,q,V);F=k(n,i),M=C(n,i),B=E(n,i,s,a,u),L=x(n,i,s,a,u,c);var K=h(F,M,B,L),W=l(F,M,B,L);j=R,P=O,R=m,O=T,m=g,T=_,g=h(p,d,z,Y),_=l(d,d,z,Y),p=u,d=c,u=s,c=a,s=n,a=i,n=h(z,Y,K,W),i=l(z,Y,K,W)}f(this.h,0,n,i),f(this.h,2,s,a),f(this.h,4,u,c),f(this.h,6,p,d),f(this.h,8,g,_),f(this.h,10,m,T),f(this.h,12,R,O),f(this.h,14,j,P)},m.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(t,e,r){"use strict";var n=o(r(59)),i=o(r(60));function o(t){return t&&t.__esModule?t:{default:t}}var s=r(87),a=r(19).toHex;function u(t,e,r,o,a){if(!e||!r)return s.reject("Invalid argument: hash or chain ID is missing");var u=a||60,c=Date.now();return new s(function(s,a){var f=setInterval((0,i.default)(n.default.mark(function i(){var h,l,p;return n.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return h=void 0,n.next=3,t.call("ack",{hash:e,chainid:r}).catch(function(t){clearInterval(f),h=t});case 3:if(l=n.sent,!h){n.next=6;break}return n.abrupt("return",a(h));case 6:"Unknown"!==(p=o?l[o].status:l.status)&&"NotConfirmed"!==p&&(clearInterval(f),s(p)),Date.now()-c>1e3*u&&(clearInterval(f),a("Ack timeout"));case 9:case"end":return n.stop()}},i,this)})),500)})}t.exports={waitOnCommitAck:function(t,e,r){return u(t,e,"c","commitdata",r)},waitOnRevealAck:function(t,e,r,n){return u(t,e,a(r),"entrydata",n)},waitOnFactoidTransactionAck:function(t,e,r){return u(t,e,"f",null,r)}}},function(t,e,r){t.exports={default:r(145),__esModule:!0}},function(t,e,r){r(39),r(17),r(24),r(146),r(147),r(148),r(149),t.exports=r(0).Map},function(t,e,r){"use strict";var n=r(81),i=r(56);t.exports=r(82)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return n.def(i(this,"Map"),0===t?0:t,e)}},n,!0)},function(t,e,r){var n=r(1);n(n.P+n.R,"Map",{toJSON:r(83)("Map")})},function(t,e,r){r(84)("Map")},function(t,e,r){r(85)("Map")},function(t,e,r){r(151),t.exports=r(0).Object.freeze},function(t,e,r){var n=r(4),i=r(34).onFreeze;r(75)("freeze",function(t){return function(e){return t&&n(e)?t(i(e)):e}})},function(t,e,r){r(24),r(17),t.exports=r(153)},function(t,e,r){var n=r(8),i=r(53);t.exports=r(0).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){t.exports={default:r(155),__esModule:!0}},function(t,e,r){r(156),t.exports=r(0).Number.isSafeInteger},function(t,e,r){var n=r(1),i=r(157),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,r){var n=r(4),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},function(t,e,r){var n=r(8),i=r(38),o=r(2)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||void 0==(r=n(s)[o])?e:i(r)}},function(t,e,r){var n,i,o,s=r(10),a=r(189),u=r(90),c=r(58),f=r(3),h=f.process,l=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,v=f.Dispatch,y=0,g={},_=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},m=function(t){_.call(t.data)};l&&p||(l=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return g[++y]=function(){a("function"==typeof t?t:Function(t),e)},n(y),y},p=function(t){delete g[t]},"process"==r(30)(h)?n=function(t){h.nextTick(s(_,t,1))}:v&&v.now?n=function(t){v.now(s(_,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=m,n=s(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(t){f.postMessage(t+"","*")},f.addEventListener("message",m,!1)):n="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(s(_,t,1),0)}),t.exports={set:l,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,r){var n=r(8),i=r(4),o=r(109);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){"use strict";(function(e){var n=h(r(193)),i=h(r(27)),o=h(r(199)),s=h(r(163)),a=h(r(26)),u=h(r(201)),c=h(r(202)),f=h(r(80));function h(t){return t&&t.__esModule?t:{default:t}}var l=r(210),p=r(229).Agent,d=r(87),v=r(247),y=new f.default(["holding-queue","network-info","predictive-fer","audit-servers","federated-servers","configuration","process-list","authorities","reload-configuration","drop-rate","set-drop-rate","current-minute","delay","set-delay","summary","messages"]),g={retries:4,factor:2,minTimeout:500,maxTimeout:2e3},_=function(t){function e(t,r,n){(0,a.default)(this,e);var i=(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,"API call to ["+t+"] with params "+(0,o.default)(r)+" got rejected: "+n.message+" (code: "+n.code+")"));return i.code=n.code,Error.captureStackTrace(i,e),i}return(0,c.default)(e,t),e}(Error),m=function(){function t(r,n){(0,a.default)(this,t);var i=r.host||"localhost",o=r.protocol||"http",s=o+"://"+i+":"+(r.port||n),u=r.user||"",c=r.password||"",f={baseURL:s,headers:{"Content-Type":"application/json",Authorization:"Basic "+e.from(u+":"+c).toString("base64")}};"https"===o&&void 0!==r.rejectUnauthorized&&(f.httpsAgent=new p({rejectUnauthorized:r.rejectUnauthorized})),this.httpCli=l.create(f),this.apiCounter=function(){var t=0;return function(){return++t}}(),this.retry=r.retry||g}return(0,i.default)(t,[{key:"call",value:function(t,e,r){var n=this;return new d(function(i,o){var s=v.operation(n.retry),a={jsonrpc:"2.0",id:n.apiCounter(),method:e,params:r};s.attempt(function(){n.httpCli.post(t,a).then(function(t){return i(t.data.result)}).catch(function(t){var n=void 0;if(t.response){if(400===t.response.status)return o(new _(e,r,t.response.data.error));n=new Error(t.response.data)}else n=new Error(t.message);if(!s.retry(n))return o(s.mainError())})})})}}]),t}();var b=function(t){function e(t){(0,a.default)(this,e);var r=t||{};return(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,r,8088))}return(0,c.default)(e,t),(0,i.default)(e,[{key:"call",value:function(t,r){var i=y.has(t)?"/debug":"/v2";return(0,n.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"call",this).call(this,i,t,r)}}]),e}(m),w=function(t){function e(t){(0,a.default)(this,e);var r=t||{};return(0,u.default)(this,(e.__proto__||(0,s.default)(e)).call(this,r,8089))}return(0,c.default)(e,t),(0,i.default)(e,[{key:"call",value:function(t,r){return(0,n.default)(e.prototype.__proto__||(0,s.default)(e.prototype),"call",this).call(this,"/v2",t,r)}}]),e}(m);t.exports={FactomdCli:b,WalletdCli:w}}).call(this,r(6).Buffer)},function(t,e,r){t.exports={default:r(194),__esModule:!0}},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(18),i=r(215),o=r(217),s=r(218),a=r(219),u=r(166),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(220);t.exports=function(t){return new Promise(function(e,f){var h=t.data,l=t.headers;n.isFormData(h)&&delete l["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||a(t.url)||(p=new window.XDomainRequest,d="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var y=t.auth.username||"",g=t.auth.password||"";l.Authorization="Basic "+c(y+":"+g)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:t,request:p};i(e,f,n),p=null}},p.onerror=function(){f(u("Network Error",t,null,p)),p=null},p.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var _=r(221),m=(t.withCredentials||a(t.url))&&t.xsrfCookieName?_.read(t.xsrfCookieName):void 0;m&&(l[t.xsrfHeaderName]=m)}if("setRequestHeader"in p&&n.forEach(l,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete l[e]:p.setRequestHeader(e,t)}),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){p&&(p.abort(),f(t),p=null)}),void 0===h&&(h=null),p.send(h)})}},function(t,e,r){"use strict";var n=r(216);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){(function(t){e.fetch=a(t.fetch)&&a(t.ReadableStream),e.writableStream=a(t.WritableStream),e.abortController=a(t.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var r;function n(){if(void 0!==r)return r;if(t.XMLHttpRequest){r=new t.XMLHttpRequest;try{r.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){r=null}}else r=null;return r}function i(t){var e=n();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var o=void 0!==t.ArrayBuffer,s=o&&a(t.ArrayBuffer.prototype.slice);function a(t){return"function"==typeof t}e.arraybuffer=e.fetch||o&&i("arraybuffer"),e.msstream=!e.fetch&&s&&i("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o&&i("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!n()&&a(n().overrideMimeType),e.vbArray=a(t.VBArray),r=null}).call(this,r(14))},function(t,e,r){(function(t,n,i){var o=r(169),s=r(28),a=r(171),u=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=e.IncomingMessage=function(e,r,s,u){var c=this;if(a.Readable.call(c),c._mode=s,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){t.nextTick(function(){c.emit("close")})}),"fetch"===s){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach(function(t,e){c.headers[e.toLowerCase()]=t,c.rawHeaders.push(e,t)}),o.writableStream){var f=new WritableStream({write:function(t){return new Promise(function(e,r){c._destroyed?r():c.push(new n(t))?e():c._resumeFetch=e})},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(t){c._destroyed||c.emit("error",t)}});try{return void r.body.pipeTo(f).catch(function(t){i.clearTimeout(u),c._destroyed||c.emit("error",t)})}catch(t){}}var h=r.body.getReader();!function t(){h.read().then(function(e){if(!c._destroyed){if(e.done)return i.clearTimeout(u),void c.push(null);c.push(new n(e.value)),t()}}).catch(function(t){i.clearTimeout(u),c._destroyed||c.emit("error",t)})}()}else{if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var r=e[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(e[2])):void 0!==c.headers[r]?c.headers[r]+=", "+e[2]:c.headers[r]=e[2],c.rawHeaders.push(e[1],e[2])}}),c._charset="x-user-defined",!o.overrideMimeType){var l=c.rawHeaders["mime-type"];if(l){var p=l.match(/;\s*charset=([^;])(;|$)/);p&&(c._charset=p[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};s(c,a.Readable),c.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},c.prototype._onXHRProgress=function(){var t=this,e=t._xhr,r=null;switch(t._mode){case"text:vbarray":if(e.readyState!==u.DONE)break;try{r=new i.VBArray(e.responseBody).toArray()}catch(t){}if(null!==r){t.push(new n(r));break}case"text":try{r=e.responseText}catch(e){t._mode="text:vbarray";break}if(r.length>t._pos){var o=r.substr(t._pos);if("x-user-defined"===t._charset){for(var s=new n(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);t.push(s)}else t.push(o,t._charset);t._pos=r.length}break;case"arraybuffer":if(e.readyState!==u.DONE||!e.response)break;r=e.response,t.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=e.response,e.readyState!==u.LOADING||!r)break;t.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=e.response,e.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(new n(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){t.push(null)},c.readAsArrayBuffer(r)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,r(42),r(6).Buffer,r(14))},function(t,e,r){(e=t.exports=r(172)).Stream=e,e.Readable=e,e.Writable=r(176),e.Duplex=r(65),e.Transform=r(179),e.PassThrough=r(238)},function(t,e,r){"use strict";(function(e,n){var i=r(94);t.exports=m;var o,s=r(232);m.ReadableState=_;r(173).EventEmitter;var a=function(t,e){return t.listeners(e).length},u=r(174),c=r(95).Buffer,f=e.Uint8Array||function(){};var h=r(86);h.inherits=r(28);var l=r(233),p=void 0;p=l&&l.debuglog?l.debuglog("stream"):function(){};var d,v=r(234),y=r(175);h.inherits(m,u);var g=["error","close","destroy","pause","resume"];function _(t,e){o=o||r(65),t=t||{};var n=e instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=r(178).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function m(t){if(o=o||r(65),!(this instanceof m))return new m(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function b(t,e,r,n,i){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,k(t)}(t,s)):(i||(o=function(t,e){var r;(function(t){return c.isBuffer(t)||t instanceof f})(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):S(t,s)):w(t,s,e,!1))):n||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&k(t)),S(t,e)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=y.destroy,m.prototype._undestroy=y.undestroy,m.prototype._destroy=function(t,e){this.push(null),e(t)},m.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=c.from(t,e),e=""),r=!0),b(this,t,e,!1,r)},m.prototype.unshift=function(t){return b(this,t,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return d||(d=r(178).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var E=8388608;function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=E?t=E:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),O(t)}function S(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(A,t,e))}function A(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function T(t){p("readable nexttick read 0"),t.read(0)}function R(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),O(t),e.flowing&&!e.reading&&t.read(0)}function O(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function j(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=c.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function P(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function F(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}m.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?P(this):k(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&P(this),null;var n,i=e.needReadable;return p("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",i=!0),e.ended||e.reading?p("reading or ended",i=!1):i&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(r,e))),null===(n=t>0?j(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&P(this)),null!==n&&this.emit("data",n),n},m.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:m;function c(e,n){p("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),t.removeListener("close",g),t.removeListener("finish",_),t.removeListener("drain",h),t.removeListener("error",y),t.removeListener("unpipe",c),r.removeListener("end",f),r.removeListener("end",m),r.removeListener("data",v),l=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function f(){p("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",c);var h=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,O(t))}}(r);t.on("drain",h);var l=!1;var d=!1;function v(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==F(o.pipes,t))&&!l&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function y(e){p("onerror",e),m(),t.removeListener("error",y),0===a(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",_),m()}function _(){p("onfinish"),t.removeListener("close",g),m()}function m(){p("unpipe"),r.unpipe(t)}return r.on("data",v),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",y),t.once("close",g),t.once("finish",_),t.emit("pipe",r),o.flowing||(p("pipe resume"),r.resume()),t},m.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=F(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},m.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):i.nextTick(T,this))}return r},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(R,t,e))}(this,t)),this},m.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(p("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(p("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){p("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=j}).call(this,r(14),r(42))},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,s,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(o(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),r.apply(this,a)}else if(i(r))for(a=Array.prototype.slice.call(arguments,1),s=(c=r.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},r.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(s=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,o,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(a=s;a-- >0;)if(r[a]===e||r[a].listener&&r[a].listener===e){o=a;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){t.exports=r(173).EventEmitter},function(t,e,r){"use strict";var n=r(94);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";(function(e,n,i){var o=r(94);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=_;var a,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:o.nextTick;_.WritableState=g;var c=r(86);c.inherits=r(28);var f={deprecate:r(237)},h=r(174),l=r(95).Buffer,p=i.Uint8Array||function(){};var d,v=r(175);function y(){}function g(t,e){a=a||r(65),t=t||{};var n=e instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,c=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(k,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),k(t,e))}(t,r,n,e,i);else{var s=E(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(t,r),n?u(b,t,r,s,i):b(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function _(t){if(a=a||r(65),!(d.call(_,this)||this instanceof a))return new _(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function m(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),k(t,e)}function w(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,m(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,h=r.callback;if(m(t,e,!1,e.objectMode?1:c.length,c,f,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),k(t,e)})}function k(t,e){var r=E(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}c.inherits(_,h),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===_&&(t&&t._writableState instanceof g)}})):d=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&function(t){return l.isBuffer(t)||t instanceof p}(t);return s&&!l.isBuffer(t)&&(t=function(t){return l.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=y),n.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),o.nextTick(e,r)}(this,r):(s||function(t,e,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(n,s),i=!1),i}(this,n,t,r))&&(n.pendingcb++,i=function(t,e,r,n,i,o){if(!r){var s=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=l.from(e,r));return e}(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else m(t,e,!1,a,n,i,o);return u}(this,n,s,t,e,r)),i},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,k(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=v.destroy,_.prototype._undestroy=v.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(42),r(177).setImmediate,r(14))},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(236),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(14))},function(t,e,r){"use strict";var n=r(95).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=h,e=3;break;default:return this.write=l,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=s(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";t.exports=o;var n=r(65),i=r(86);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){a(t,e,r)}):a(this,null,null)}function a(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(28),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){"use strict";var n=r(242),i=r(243);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=m,e.resolve=function(t,e){return m(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?m(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=m(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),h=["%","/","?",";","#"].concat(f),l=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r(244);function m(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",c=t.split(a);c[0]=c[0].replace(/\\/g,"/");var m=t=c.join(a);if(m=m.trim(),!r&&1===t.split("#").length){var b=u.exec(m);if(b)return this.path=m,this.href=m,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?_.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(m);if(w){var E=(w=w[0]).toLowerCase();this.protocol=E,m=m.substr(w.length)}if(r||w||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===m.substr(0,2);!x||w&&y[w]||(m=m.substr(2),this.slashes=!0)}if(!y[w]&&(x||w&&!g[w])){for(var k,C,S=-1,A=0;A<l.length;A++){-1!==(T=m.indexOf(l[A]))&&(-1===S||T<S)&&(S=T)}-1!==(C=-1===S?m.lastIndexOf("@"):m.lastIndexOf("@",S))&&(k=m.slice(0,C),m=m.slice(C+1),this.auth=decodeURIComponent(k)),S=-1;for(A=0;A<h.length;A++){var T;-1!==(T=m.indexOf(h[A]))&&(-1===S||T<S)&&(S=T)}-1===S&&(S=m.length),this.host=m.slice(0,S),m=m.slice(S),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var O=this.hostname.split(/\./),j=(A=0,O.length);A<j;A++){var P=O[A];if(P&&!P.match(p)){for(var I="",F=0,M=P.length;F<M;F++)P.charCodeAt(F)>127?I+="x":I+=P[F];if(!I.match(p)){var B=O.slice(0,A),L=O.slice(A+1),U=P.match(d);U&&(B.push(U[1]),L.unshift(U[2])),L.length&&(m="/"+L.join(".")+m),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=n.toASCII(this.hostname));var D=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+D,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!v[E])for(A=0,j=f.length;A<j;A++){var H=f[A];if(-1!==m.indexOf(H)){var q=encodeURIComponent(H);q===H&&(q=escape(H)),m=m.split(H).join(q)}}var V=m.indexOf("#");-1!==V&&(this.hash=m.substr(V),m=m.slice(0,V));var z=m.indexOf("?");if(-1!==z?(this.search=m.substr(z),this.query=m.substr(z+1),e&&(this.query=_.parse(this.query)),m=m.slice(0,z)):e&&(this.search="",this.query={}),m&&(this.pathname=m),g[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var Y=this.search||"";this.path=D+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=_.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(m(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var f=u[c];"protocol"!==f&&(r[f]=t[f])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),l=0;l<h.length;l++){var p=h[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||y[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||m||r.host&&t.pathname,E=w,x=r.pathname&&r.pathname.split("/")||[],k=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===x[0]?x[0]=r.host:x.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===x[0])),b)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(k)r.hostname=r.host=x.shift(),(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=x.slice(-1)[0],S=(r.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,A=0,T=x.length;T>=0;T--)"."===(C=x[T])?x.splice(T,1):".."===C?(x.splice(T,1),A++):A&&(x.splice(T,1),A--);if(!w&&!E)for(;A--;A)x.unshift("..");!w||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),S&&"/"!==x.join("/").substr(-1)&&x.push("");var R,O=""===x[0]||x[0]&&"/"===x[0].charAt(0);k&&(r.hostname=r.host=O?"":x.length?x.shift():"",(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift()));return(w=w||r.host&&x.length)&&!O&&x.unshift(""),x.length?r.pathname=x.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";var n=d(r(64)),i=d(r(66)),o=d(r(59)),s=d(r(60)),a=function(){var t=(0,s.default)(o.default.mark(function t(e,r,n){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.call("entry",{hash:S(r)}).then(function(t){return R(t,n)}));case 1:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),u=function(){var t=(0,s.default)(o.default.mark(function t(e,r){var n,i,s,u;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call("entry",{hash:S(r)}).then(function(t){return t.chainid});case 2:return n=t.sent,t.next=5,A(e,n).then(function(t){return t.keyMR});case 5:i=t.sent;case 6:if(i===g){t.next=18;break}return t.next=9,e.call("entry-block",{keymr:i});case 9:if(s=t.sent,!(u=s.entrylist.find(function(t){return t.entryhash===r}))){t.next=15;break}return t.abrupt("return",a(e,r,T(i,s,u.timestamp)));case 15:i=s.header.prevkeymr;case 16:t.next=6;break;case 18:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),c=function(){var t=(0,s.default)(o.default.mark(function t(e,r){var n,i,s,u,c;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e,r);case 2:n=t.sent,i=n.keyMR,s=void 0,u=void 0;case 5:if(i===g){t.next=13;break}return u=i,t.next=9,e.call("entry-block",{keymr:i});case 9:s=t.sent,i=s.header.prevkeymr,t.next=5;break;case 13:return c=s.entrylist[0],t.abrupt("return",a(e,c.entryhash,T(u,s,c.timestamp)));case 15:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),f=function(){var t=(0,s.default)(o.default.mark(function t(e,r){var n,s,a,u,c,f;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,A(e,r);case 3:if(""!==(s=t.sent).keyMR||!s.chainInProcessList){t.next=6;break}throw new Error("Chain not yet included in a Directory Block");case 6:a=s.keyMR;case 7:if(a===g){t.next=17;break}return t.next=10,h(e,a);case 10:u=t.sent,c=u.entries,f=u.previousKeyMR,n.push.apply(n,(0,i.default)(c.reverse())),a=f,t.next=7;break;case 17:return t.abrupt("return",v.resolve(n.reverse()));case 18:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),h=function(){var t=(0,s.default)(o.default.mark(function t(e,r){var n,i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call("entry-block",{keymr:r});case 2:return n=t.sent,t.next=5,v.map(n.entrylist,function(t){return a(e,t.entryhash,T(r,n,t.timestamp))});case 5:return i=t.sent,t.abrupt("return",{entries:i,previousKeyMR:n.header.prevkeymr});case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,s.default)(o.default.mark(function t(e,r){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof r){t.next=2;break}throw new Error("Argument is not a transaction ID: "+r);case 2:return t.next=4,e.call("transaction",{hash:r});case 4:if(!(n=t.sent).factoidtransaction){t.next=7;break}return t.abrupt("return",new y(n.factoidtransaction,{factoidBlockKeyMR:n.includedintransactionblock,directoryBlockKeyMR:n.includedindirectoryblock,directoryBlockHeight:n.includedindirectoryblockheight}));case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),p=function(){var t=(0,s.default)(o.default.mark(function t(e){var r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call("heights");case 2:return r=t.sent,t.abrupt("return",{directoryBlockHeight:r.directoryblockheight,leaderHeight:r.leaderheight,entryBlockHeight:r.entryblockheight,entryHeight:r.entryheight});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();function d(t){return t&&t.__esModule?t:{default:t}}var v=r(87),y=r(67).Transaction,g=r(16).NULL_HASH,_=r(57).Entry,m=r(253),b=m.DirectoryBlock,w=m.AdminBlock,E=m.EntryBlock,x=m.FactoidBlock,k=m.EntryCreditBlock,C=r(15).getPublicAddress,S=r(19).toHex;function A(t,e){return t.call("chain-head",{chainid:S(e)}).then(function(t){return{keyMR:t.chainhead,chainInProcessList:t.chaininprocesslist}})}function T(t,e,r){return{entryTimestamp:r,directoryBlockHeight:e.header.dbheight,entryBlockTimestamp:e.header.timestamp,entryBlockSequenceNumber:e.header.blocksequencenumber,entryBlockKeyMR:t}}function R(t,e){return _.builder().chainId(t.chainid,"hex").extIds(t.extids,"hex").content(t.content,"hex").blockContext(e).timestamp(e?1e3*e.entryTimestamp:void 0).build()}function O(t,e){var r=void 0;switch(void 0===e?"undefined":(0,n.default)(e)){case"number":if(e<0)throw new RangeError("Directory Block height out of range");r=t.call("dblock-by-height",{height:e});break;case"string":r=t.call("directory-block",{keymr:e});break;default:throw Error("Invalid argument: "+e)}return r.then(function(t){return new b(t,e)})}t.exports={getEntry:a,getEntryWithBlockContext:u,getAllEntriesOfChain:f,getFirstEntry:c,getChainHead:A,chainExists:function(t,e){return t.call("chain-head",{chainid:S(e)}).then(function(){return!0}).catch(function(t){if(-32009===t.code)return!1;throw t})},getEntryCreditRate:function(t){return t.call("entry-credit-rate").then(function(t){return t.rate})},getTransaction:l,getBalance:function(t,e){var r=C(e);return("E"===r[0]?t.call.bind(t,"entry-credit-balance"):t.call.bind(t,"factoid-balance"))({address:r}).then(function(t){return t.balance})},getProperties:function(t){return t.call("properties")},getHeights:p,getDirectoryBlockHead:function(t){return t.call("directory-block-head").then(function(e){return O(t,e.keymr)})},getDirectoryBlock:O,getEntryBlock:function(t,e){if("string"!=typeof e)throw new Error("Argument should be the KeyMR of the Entry Block");return t.call("entry-block",{keymr:e}).then(function(t){return new E(t,e)})},getAdminBlock:function(t,e){var r=void 0;switch(void 0===e?"undefined":(0,n.default)(e)){case"number":if(e<0)throw new RangeError("Admin Block height out of range");r=t.call("ablock-by-height",{height:e});break;case"string":r=t.call("admin-block",{keymr:e});break;default:throw Error("Invalid argument: "+e)}return r.then(function(t){return new w(t)})},getFactoidBlock:function(t,e){var r=void 0;switch(void 0===e?"undefined":(0,n.default)(e)){case"number":if(e<0)throw new RangeError("Factoid Block height out of range");r=t.call("fblock-by-height",{height:e});break;case"string":r=t.call("factoid-block",{keymr:e});break;default:throw Error("Invalid argument: "+e)}return r.then(function(t){return new x(t)})},getEntryCreditBlock:function(t,e){var r=void 0;switch(void 0===e?"undefined":(0,n.default)(e)){case"number":if(e<0)throw new RangeError("Entry Credit Block height out of range");r=t.call("ecblock-by-height",{height:e});break;case"string":r=t.call("entrycredit-block",{keymr:e});break;default:throw Error("Invalid argument: "+e)}return r.then(function(t){return new k(t)})}}},function(t,e,r){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(r(68));t.exports=(0,n.default)({},r(183),r(162),r(57),r(97),r(15),r(16),r(67))},function(t,e,r){"use strict";var n=a(r(59)),i=a(r(60)),o=a(r(26)),s=a(r(27));function a(t){return t&&t.__esModule?t:{default:t}}var u=r(162),c=u.FactomdCli,f=u.WalletdCli,h=r(250),l=r(252),p=r(181),d=r(143),v=r(254),y=function(){function t(e){(0,o.default)(this,t);var r=e||{},n=r.factomd||r,i=r.walletd;this.factomd=new c(n),this.walletd=new f(i)}return(0,s.default)(t,[{key:"commit",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,r);case 2:return o=t.sent,t.abrupt("return",h.commit(this.factomd,e,o,i));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"commitChain",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,r);case 2:return o=t.sent,t.abrupt("return",h.commitChain(this.factomd,e,o,i));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"commitEntry",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,r);case 2:return o=t.sent,t.abrupt("return",h.commitEntry(this.factomd,e,o,i));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"reveal",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.reveal(this.factomd,e,r));case 1:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"revealChain",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.revealChain(this.factomd,e,r));case 1:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"revealEntry",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",h.revealEntry(this.factomd,e,r));case 1:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,r);case 2:return o=t.sent,t.abrupt("return",h.add(this.factomd,e,o,i));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"addChain",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,r);case 2:return o=t.sent,t.abrupt("return",h.addChain(this.factomd,e,o,i));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"addChains",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,r);case 2:return o=t.sent,t.abrupt("return",h.addChains(this.factomd,e,o,i));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"addEntry",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,r);case 2:return o=t.sent,t.abrupt("return",h.addEntry(this.factomd,e,o,i));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"addEntries",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,r);case 2:return o=t.sent,t.abrupt("return",h.addEntries(this.factomd,e,o,i));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"getAllEntriesOfChain",value:function(t){return p.getAllEntriesOfChain(this.factomd,t)}},{key:"getChainHead",value:function(t){return p.getChainHead(this.factomd,t)}},{key:"getEntry",value:function(t){return p.getEntry(this.factomd,t)}},{key:"getEntryWithBlockContext",value:function(t){return p.getEntryWithBlockContext(this.factomd,t)}},{key:"getFirstEntry",value:function(t){return p.getFirstEntry(this.factomd,t)}},{key:"getBalance",value:function(t){return p.getBalance(this.factomd,t)}},{key:"getNodeProperties",value:function(){return p.getProperties(this.factomd)}},{key:"getWalletProperties",value:function(){return p.getProperties(this.walletd)}},{key:"chainExists",value:function(t){return p.chainExists(this.factomd,t)}},{key:"getEntryCreditRate",value:function(){return p.getEntryCreditRate(this.factomd)}},{key:"getTransaction",value:function(t){return p.getTransaction(this.factomd,t)}},{key:"sendTransaction",value:function(t,e){return l.sendTransaction(this.factomd,t,e)}},{key:"createFactoidTransaction",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i,o){var s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,e);case 2:return s=t.sent,t.abrupt("return",l.createFactoidTransaction(this.factomd,s,r,i,o));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n,i){return t.apply(this,arguments)}}()},{key:"createEntryCreditPurchaseTransaction",value:function(){var t=(0,i.default)(n.default.mark(function t(e,r,i,o){var s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getPrivateAddress(this.walletd,e);case 2:return s=t.sent,t.abrupt("return",l.createEntryCreditPurchaseTransaction(this.factomd,s,r,i,o));case 4:case"end":return t.stop()}},t,this)}));return function(e,r,n,i){return t.apply(this,arguments)}}()},{key:"waitOnCommitAck",value:function(t,e){return d.waitOnCommitAck(this.factomd,t,e)}},{key:"waitOnRevealAck",value:function(t,e,r){return d.waitOnRevealAck(this.factomd,t,e,r)}},{key:"waitOnFactoidTransactionAck",value:function(t,e){return d.waitOnFactoidTransactionAck(this.factomd,t,e)}},{key:"factomdApi",value:function(t,e){return this.factomd.call(t,e)}},{key:"walletdApi",value:function(t,e){return this.walletd.call(t,e)}},{key:"getHeights",value:function(){return p.getHeights(this.factomd)}},{key:"getDirectoryBlockHead",value:function(){return p.getDirectoryBlockHead(this.factomd)}},{key:"getDirectoryBlock",value:function(t){return p.getDirectoryBlock(this.factomd,t)}},{key:"getAdminBlock",value:function(t){return p.getAdminBlock(this.factomd,t)}},{key:"getEntryBlock",value:function(t){return p.getEntryBlock(this.factomd,t)}},{key:"getFactoidBlock",value:function(t){return p.getFactoidBlock(this.factomd,t)}},{key:"getEntryCreditBlock",value:function(t){return p.getEntryCreditBlock(this.factomd,t)}}]),t}();t.exports={FactomCli:y}},function(t,e,r){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=r(185),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"==typeof t,f=e.regeneratorRuntime;if(f)c&&(t.exports=f);else{(f=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var h="suspendedStart",l="suspendedYield",p="executing",d="completed",v={},y={};y[s]=function(){return this};var g=Object.getPrototypeOf,_=g&&g(g(j([])));_&&_!==n&&i.call(_,s)&&(y=_);var m=k.prototype=E.prototype=Object.create(y);x.prototype=m.constructor=k,k.constructor=x,k[u]=x.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(m),t},f.awrap=function(t){return{__await:t}},C(S.prototype),S.prototype[a]=function(){return this},f.AsyncIterator=S,f.async=function(t,e,r,n){var i=new S(b(t,e,r,n));return f.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},C(m),m[u]="Generator",m[s]=function(){return this},m.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(R),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function b(t,e,r,n){var i=e&&e.prototype instanceof E?e:E,o=Object.create(i.prototype),s=new O(n||[]);return o._invoke=function(t,e,r){var n=h;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return P()}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var a=A(s,r);if(a){if(a===v)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=w(t,e,r);if("normal"===u.type){if(n=r.done?d:l,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(t,r,s),o}function w(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function E(){}function x(){}function k(){}function C(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(r,n){function o(){return new Promise(function(e,o){!function e(r,n,o,s){var a=w(t[r],t,n);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},s)}s(a.arg)}(r,n,e,o)})}return e=e?e.then(o,o):o()}}function A(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,A(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=w(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,v;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function R(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function j(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,r){t.exports={default:r(187),__esModule:!0}},function(t,e,r){r(39),r(17),r(24),r(188),r(191),r(192),t.exports=r(0).Promise},function(t,e,r){"use strict";var n,i,o,s,a=r(40),u=r(3),c=r(10),f=r(61),h=r(1),l=r(4),p=r(38),d=r(62),v=r(25),y=r(158),g=r(159).set,_=r(190)(),m=r(109),b=r(160),w=r(161),E=u.TypeError,x=u.process,k=u.Promise,C="process"==f(x),S=function(){},A=i=m.f,T=!!function(){try{var t=k.resolve(1),e=(t.constructor={})[r(2)("species")]=function(t){t(S,S)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(S)instanceof e}catch(t){}}(),R=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var r=t._c;_(function(){for(var n=t._v,i=1==t._s,o=0,s=function(e){var r,o,s=i?e.ok:e.fail,a=e.resolve,u=e.reject,c=e.domain;try{s?(i||(2==t._h&&I(t),t._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&c.exit()),r===e.promise?u(E("Promise-chain cycle")):(o=R(r))?o.call(r,a,u):a(r)):u(n)}catch(t){u(t)}};r.length>o;)s(r[o++]);t._c=[],t._n=!1,e&&!t._h&&j(t)})}},j=function(t){g.call(u,function(){var e,r,n,i=t._v,o=P(t);if(o&&(e=b(function(){C?x.emit("unhandledRejection",i,t):(r=u.onunhandledrejection)?r({promise:t,reason:i}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",i)}),t._h=C||P(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){g.call(u,function(){var e;C?x.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},M=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw E("Promise can't be resolved itself");(e=R(t))?_(function(){var n={_w:r,_d:!1};try{e.call(t,c(M,n,1),c(F,n,1))}catch(t){F.call(n,t)}}):(r._v=t,r._s=1,O(r,!1))}catch(t){F.call({_w:r,_d:!1},t)}}};T||(k=function(t){d(this,k,"Promise","_h"),p(t),n.call(this);try{t(c(M,this,1),c(F,this,1))}catch(t){F.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(63)(k.prototype,{then:function(t,e){var r=A(y(this,k));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=C?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&O(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=c(M,t,1),this.reject=c(F,t,1)},m.f=A=function(t){return t===k||t===s?new o(t):i(t)}),h(h.G+h.W+h.F*!T,{Promise:k}),r(23)(k,"Promise"),r(92)("Promise"),s=r(0).Promise,h(h.S+h.F*!T,"Promise",{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!T),"Promise",{resolve:function(t){return w(a&&this===s?k:this,t)}}),h(h.S+h.F*!(T&&r(93)(function(t){k.all(t).catch(S)})),"Promise",{all:function(t){var e=this,r=A(e),n=r.resolve,i=r.reject,o=b(function(){var r=[],o=0,s=1;v(t,!1,function(t){var a=o++,u=!1;r.push(void 0),s++,e.resolve(t).then(function(t){u||(u=!0,r[a]=t,--s||n(r))},i)}),--s||n(r)});return o.e&&i(o.v),r.promise},race:function(t){var e=this,r=A(e),n=r.reject,i=b(function(){v(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){var n=r(3),i=r(159).set,o=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,u="process"==r(30)(s);t.exports=function(){var t,e,r,c=function(){var n,i;for(u&&(n=s.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(u)r=function(){s.nextTick(c)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var f=a.resolve();r=function(){f.then(c)}}else r=function(){i.call(n,c)};else{var h=!0,l=document.createTextNode("");new o(c).observe(l,{characterData:!0}),r=function(){l.data=h=!h}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},function(t,e,r){"use strict";var n=r(1),i=r(0),o=r(3),s=r(158),a=r(161);n(n.P+n.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),r="function"==typeof t;return this.then(r?function(r){return a(e,t()).then(function(){return r})}:t,r?function(r){return a(e,t()).then(function(){throw r})}:t)}})},function(t,e,r){"use strict";var n=r(1),i=r(109),o=r(160);n(n.S,"Promise",{try:function(t){var e=i.f(this),r=o(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},function(t,e,r){"use strict";e.__esModule=!0;var n=o(r(163)),i=o(r(196));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,r,o){null===e&&(e=Function.prototype);var s=(0,i.default)(e,r);if(void 0===s){var a=(0,n.default)(e);return null===a?void 0:t(a,r,o)}if("value"in s)return s.value;var u=s.get;return void 0!==u?u.call(o):void 0}},function(t,e,r){r(195),t.exports=r(0).Object.getPrototypeOf},function(t,e,r){var n=r(22),i=r(91);r(75)("getPrototypeOf",function(){return function(t){return i(n(t))}})},function(t,e,r){t.exports={default:r(197),__esModule:!0}},function(t,e,r){r(198);var n=r(0).Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},function(t,e,r){var n=r(13),i=r(76).f;r(75)("getOwnPropertyDescriptor",function(){return function(t,e){return i(n(t),e)}})},function(t,e,r){t.exports={default:r(200),__esModule:!0}},function(t,e,r){var n=r(0),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,r){"use strict";e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(r(64));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,n.default)(e))&&"function"!=typeof e?t:e}},function(t,e,r){"use strict";e.__esModule=!0;var n=s(r(203)),i=s(r(207)),o=s(r(64));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}},function(t,e,r){t.exports={default:r(204),__esModule:!0}},function(t,e,r){r(205),t.exports=r(0).Object.setPrototypeOf},function(t,e,r){var n=r(1);n(n.S,"Object",{setPrototypeOf:r(206).set})},function(t,e,r){var n=r(4),i=r(8),o=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(10)(Function.call,r(76).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return o(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:o}},function(t,e,r){t.exports={default:r(208),__esModule:!0}},function(t,e,r){r(209);var n=r(0).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,r){var n=r(1);n(n.S,"Object",{create:r(41)})},function(t,e,r){t.exports=r(211)},function(t,e,r){"use strict";var n=r(18),i=r(164),o=r(213),s=r(133);function a(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var u=a(s);u.Axios=o,u.create=function(t){return a(n.merge(s,t))},u.Cancel=r(168),u.CancelToken=r(227),u.isCancel=r(167),u.all=function(t){return Promise.all(t)},u.spread=r(228),t.exports=u,t.exports.default=u},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(133),i=r(18),o=r(222),s=r(223);function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=a},function(t,e,r){"use strict";var n=r(18);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(166);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";var n=r(18);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,r){"use strict";var n=r(18),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}}),s):s}},function(t,e,r){"use strict";var n=r(18);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,o=String(t),s="",a=0,u=n;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new i;e=e<<8|r}return s}},function(t,e,r){"use strict";var n=r(18);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(18);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,r){"use strict";var n=r(18),i=r(224),o=r(167),s=r(133),a=r(225),u=r(226);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(18);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(168);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){var n=r(230),i=r(180),o=t.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=a(t),n.request.call(this,t,e)},o.get=function(t,e){return t=a(t),n.get.call(this,t,e)}},function(t,e,r){(function(t){var n=r(231),i=r(170),o=r(240),s=r(241),a=r(180),u=e;u.request=function(e,r){e="string"==typeof e?a.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||i,u=e.hostname||e.host,c=e.port,f=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?s+"//"+u:"")+(c?":"+c:"")+f,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var h=new n(e);return r&&h.on("response",r),h},u.get=function(t,e){var r=u.request(t,e);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(14))},function(t,e,r){(function(e,n,i){var o=r(169),s=r(28),a=r(170),u=r(171),c=r(239),f=a.IncomingMessage,h=a.readyStates;var l=t.exports=function(t){var r,n=this;u.Writable.call(n),n._opts=t,n._body=[],n._headers={},t.auth&&n.setHeader("Authorization","Basic "+new e(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){n.setHeader(e,t.headers[e])});var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!o.abortController)i=!1,r=!0;else if("prefer-streaming"===t.mode)r=!1;else if("allow-wrong-content-type"===t.mode)r=!o.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(t,e){return o.fetch&&e?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&t?"arraybuffer":o.vbArray&&t?"text:vbarray":"text"}(r,i),n._fetchTimer=null,n.on("finish",function(){n._onFinish()})};s(l,u.Writable),l.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:t,value:e})},l.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},l.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},l.prototype._onFinish=function(){var t=this;if(!t._destroyed){var r=t._opts,s=t._headers,a=null;"GET"!==r.method&&"HEAD"!==r.method&&(a=o.arraybuffer?c(e.concat(t._body)):o.blobConstructor?new n.Blob(t._body.map(function(t){return c(t)}),{type:(s["content-type"]||{}).value||""}):e.concat(t._body).toString());var u=[];if(Object.keys(s).forEach(function(t){var e=s[t].name,r=s[t].value;Array.isArray(r)?r.forEach(function(t){u.push([e,t])}):u.push([e,r])}),"fetch"===t._mode){var f=null;if(o.abortController){var l=new AbortController;f=l.signal,t._fetchAbortController=l,"requestTimeout"in r&&0!==r.requestTimeout&&(t._fetchTimer=n.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},r.requestTimeout))}n.fetch(t._opts.url,{method:t._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:f}).then(function(e){t._fetchResponse=e,t._connect()},function(e){n.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)})}else{var p=t._xhr=new n.XMLHttpRequest;try{p.open(t._opts.method,t._opts.url,!0)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}"responseType"in p&&(p.responseType=t._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!r.withCredentials),"text"===t._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(p.timeout=r.requestTimeout,p.ontimeout=function(){t.emit("requestTimeout")}),u.forEach(function(t){p.setRequestHeader(t[0],t[1])}),t._response=null,p.onreadystatechange=function(){switch(p.readyState){case h.LOADING:case h.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(p.onprogress=function(){t._onXHRProgress()}),p.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{p.send(a)}catch(e){return void i.nextTick(function(){t.emit("error",e)})}}}},l.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},l.prototype._connect=function(){var t=this;t._destroyed||(t._response=new f(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},l.prototype._write=function(t,e,r){this._body.push(t),r()},l.prototype.abort=l.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},l.prototype.end=function(t,e,r){"function"==typeof t&&(r=t,t=void 0),u.Writable.prototype.end.call(this,t,e,r)},l.prototype.flushHeaders=function(){},l.prototype.setTimeout=function(){},l.prototype.setNoDelay=function(){},l.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(6).Buffer,r(14),r(42))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){},function(t,e,r){"use strict";var n=r(95).Buffer,i=r(235);function o(t,e,r){t.copy(e,r)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),r=this.head,i=0;r;)o(r.data,e,i),i+=r.data.length,r=r.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){f(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&f(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),n=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},n=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;n=function(e){var r=a.createElement("script");r.onreadystatechange=function(){f(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():n=function(t){setTimeout(f,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var s={callback:t,args:e};return o[i]=s,n(i),i++},u.clearImmediate=c}function c(t){delete o[t]}function f(t){if(s)setTimeout(f,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{c(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(14),r(42))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(14))},function(t,e,r){"use strict";t.exports=o;var n=r(179),i=r(86);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(28),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){var n=r(6).Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(n.isBuffer(t)){for(var e=new Uint8Array(t.length),r=t.length,i=0;i<r;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(t,e,r){(function(t,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,f=1,h=26,l=38,p=700,d=72,v=128,y="-",g=/^xn--/,_=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-f,E=Math.floor,x=String.fromCharCode;function k(t){throw new RangeError(b[t])}function C(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function S(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+C((t=t.replace(m,".")).split("."),e).join(".")}function A(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function T(t){return C(t,function(t){var e="";return t>65535&&(e+=x((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=x(t)}).join("")}function R(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function j(t,e,r){var n=0;for(t=r?E(t/p):t>>1,t+=E(t/e);t>w*h>>1;n+=c)t=E(t/w);return E(n+(w+1)*t/(t+l))}function P(t){var e,r,n,i,o,s,a,l,p,g,_=[],m=t.length,b=0,w=v,x=d;for((r=t.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&k("not-basic"),_.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=b,s=1,a=c;i>=m&&k("invalid-input"),((l=R(t.charCodeAt(i++)))>=c||l>E((u-b)/s))&&k("overflow"),b+=l*s,!(l<(p=a<=x?f:a>=x+h?h:a-x));a+=c)s>E(u/(g=c-p))&&k("overflow"),s*=g;x=j(b-o,e=_.length+1,0==o),E(b/e)>u-w&&k("overflow"),w+=E(b/e),b%=e,_.splice(b++,0,w)}return T(_)}function I(t){var e,r,n,i,o,s,a,l,p,g,_,m,b,w,C,S=[];for(m=(t=A(t)).length,e=v,r=0,o=d,s=0;s<m;++s)(_=t[s])<128&&S.push(x(_));for(n=i=S.length,i&&S.push(y);n<m;){for(a=u,s=0;s<m;++s)(_=t[s])>=e&&_<a&&(a=_);for(a-e>E((u-r)/(b=n+1))&&k("overflow"),r+=(a-e)*b,e=a,s=0;s<m;++s)if((_=t[s])<e&&++r>u&&k("overflow"),_==e){for(l=r,p=c;!(l<(g=p<=o?f:p>=o+h?h:p-o));p+=c)C=l-g,w=c-g,S.push(x(O(g+C%w,0))),l=E(C/w);S.push(x(O(l,0))),o=j(r,b,n==i),r=0,++n}++r,++e}return S.join("")}a={version:"1.4.1",ucs2:{decode:A,encode:T},decode:P,encode:I,toASCII:function(t){return S(t,function(t){return _.test(t)?"xn--"+I(t):t})},toUnicode:function(t){return S(t,function(t){return g.test(t)?P(t.slice(4).toLowerCase()):t})}},void 0===(i=function(){return a}.call(e,r,e,t))||(t.exports=i)}()}).call(this,r(96)(t),r(14))},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(245),e.encode=e.stringify=r(246)},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var f=0;f<c;++f){var h,l,p,d,v=t[f].replace(a,"%20"),y=v.indexOf(r);y>=0?(h=v.substr(0,y),l=v.substr(y+1)):(h=v,l=""),p=decodeURIComponent(h),d=decodeURIComponent(l),n(s,p)?i(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(n(s))+r;return i(t[s])?o(t[s],function(t){return a+encodeURIComponent(n(t))}).join(e):a+encodeURIComponent(n(t[s]))}).join(e):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){t.exports=r(248)},function(t,e,r){var n=r(249);e.operation=function(t){var r=e.timeouts(t);return new n(r,{forever:t&&t.forever,unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<e.retries;i++)n.push(this.createTimeout(i,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(i,e)),n.sort(function(t,e){return t-e}),n},e.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*e.minTimeout*Math.pow(e.factor,t));return n=Math.min(n,e.maxTimeout)},e.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],t)"function"==typeof t[i]&&n.push(i);for(var o=0;o<n.length;o++){var s=n[o],a=t[s];t[s]=function(n){var i=e.operation(r),o=Array.prototype.slice.call(arguments,1),s=o.pop();o.push(function(t){i.retry(t)||(t&&(arguments[0]=i.mainError()),s.apply(this,arguments))}),i.attempt(function(){n.apply(t,o)})}.bind(t,a),t[s].options=r}}},function(t,e){function r(t,e){"boolean"==typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift()}var n=this,i=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r);return this._options.unref&&i.unref(),!0},r.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},r.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},r.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,s=(t[o]||0)+1;t[o]=s,s>=r&&(e=i,r=s)}return e}},function(t,e,r){"use strict";var n=c(r(68)),i=c(r(59)),o=c(r(60)),s=function(){var t=(0,o.default)(i.default.mark(function t(e,r,n,o,s,a){var u,c,f,h;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=a||60,c=n(r,s).toString("hex"),f=!1,t.next=5,e.call(o,{message:c}).catch(function(t){if("Repeated Commit"!==t.message)throw t;f=!0});case 5:if(!((h=t.sent)&&u>=0)){t.next=9;break}return t.next=9,y(e,h.txid,u);case 9:return t.abrupt("return",{txId:h?h.txid:void 0,repeatedCommit:f});case 10:case"end":return t.stop()}},t,this)}));return function(e,r,n,i,o,s){return t.apply(this,arguments)}}(),a=function(){var t=(0,o.default)(i.default.mark(function t(e,r,n,o,s){var a,u,c;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=s||60,u=n(r).toString("hex"),t.next=4,e.call(o,{entry:u});case 4:if(c=t.sent,!(a>=0)){t.next=8;break}return t.next=8,g(e,c.entryhash,c.chainid,a);case 8:return t.abrupt("return",{chainId:c.chainid,entryHash:c.entryhash});case 9:case"end":return t.stop()}},t,this)}));return function(e,r,n,i,o){return t.apply(this,arguments)}}(),u=function(){var t=(0,o.default)(i.default.mark(function t(e,r,o,s,a,u){var c,h,l,p,d,v;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(_(a)){t.next=2;break}throw new Error(a+" is not a valid EC private address");case 2:if(h=(c=u||{}).commitTimeout||60,l=c.revealTimeout||60,p=void 0,d=void 0,!(h<0)){t.next=14;break}return t.next=9,f.all([o(e,r,a,h),s(e,r,l)]);case 9:v=t.sent,p=v[0],d=v[1],t.next=20;break;case 14:return t.next=16,o(e,r,a,h);case 16:return p=t.sent,t.next=19,s(e,r,l);case 19:d=t.sent;case 20:return t.abrupt("return",(0,n.default)({},p,d));case 21:case"end":return t.stop()}},t,this)}));return function(e,r,n,i,o,s){return t.apply(this,arguments)}}();function c(t){return t&&t.__esModule?t:{default:t}}var f=r(87),h=r(251),l=r(19),p=l.flatMap,d=l.isIterable,v=r(143),y=v.waitOnCommitAck,g=v.waitOnRevealAck,_=r(15).isValidEcPrivateAddress,m=r(97),b=m.Chain,w=m.composeChainCommit,E=m.composeChainReveal,x=r(57),k=x.Entry,C=x.composeEntryCommit,S=x.composeEntryReveal;function A(t,e,r,n){return s(t,e,w,"commit-chain",r,n)}function T(t,e,r,n){if(!e.chainId.length)throw new Error("Entry should contain a chain id to be committed");return s(t,e,C,"commit-entry",r,n)}function R(t,e,r){return a(t,e,E,"reveal-chain",r)}function O(t,e,r){if(!e.chainId.length)throw new Error("Entry should contain a chain id to be revealed");return a(t,e,S,"reveal-entry",r)}function j(t,e,r,n){switch(e.constructor){case k:return I(t,e,r,n);case b:return P(t,e,r,n);default:throw new Error("Argument of `add` is not an instance of Chain or Entry")}}function P(t,e,r,n){return u(t,e,A,R,r,n)}function I(t,e,r,n){if(!e.chainId.length)throw new Error("Entry should contain a chain id to be added to the blockchain");return u(t,e,T,O,r,n)}function F(t,e,r,n){var i=n||{};return f.mapSeries(h(e,i.chunkSize||200),function(e){return f.map(e,function(e){return j(t,e,r,i)})}).then(function(t){return p(t,function(t){return t})})}var M=F,B=F;t.exports={add:function(t,e,r,n){return d(e)?F(t,e,r,n):j(t,e,r,n)},addChain:P,addChains:B,addEntry:I,addEntries:M,commit:function(t,e,r,n){switch(e.constructor){case k:return T(t,e,r,n);case b:return A(t,e,r,n);default:throw new Error("Argument of `commit` is not an instance of Chain or Entry")}},commitEntry:T,commitChain:A,reveal:function(t,e,r,n){switch(e.constructor){case k:return O(t,e,r);case b:return R(t,e,r);default:throw new Error("Argument of `reveal` is not an instance of Chain or Entry")}},revealEntry:O,revealChain:R}},function(t,e){var r=1/0,n=9007199254740991,i=1.7976931348623157e308,o=NaN,s="[object Function]",a="[object GeneratorFunction]",u="[object Symbol]",c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\d*)$/,d=parseInt,v=Object.prototype.toString,y=Math.ceil,g=Math.max;function _(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}function m(t,e,r){if(!b(r))return!1;var i=typeof e;return!!("number"==i?function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=b(t)?v.call(t):"";return e==s||e==a}(t)}(r)&&function(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||p.test(t))&&t>-1&&t%1==0&&t<e}(e,r.length):"string"==i&&e in r)&&function(t,e){return t===e||t!=t&&e!=e}(r[e],t)}function b(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t,e,n){e=(n?m(t,e,n):void 0===e)?1:g(function(t){var e=function(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&v.call(t)==u}(t))return o;if(b(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=b(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var r=h.test(t);return r||l.test(t)?d(t.slice(2),r?2:8):f.test(t)?o:+t}(t))===r||t===-r){var e=t<0?-1:1;return e*i}return t==t?t:0}(t),n=e%1;return e==e?n?e-n:e:0}(e),0);var s=t?t.length:0;if(!s||e<1)return[];for(var a=0,p=0,w=Array(y(s/e));a<s;)w[p++]=_(t,a,a+=e);return w}},function(t,e,r){"use strict";var n=f(r(59)),i=f(r(60)),o=function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o,a,u;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=(o=i||{}).timeout||60,t.next=4,s(e,r,!!o.force);case 4:if(u=t.sent,!(a>=0)){t.next=8;break}return t.next=8,l(e,u,a);case 8:return t.abrupt("return",u);case 9:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),s=function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r instanceof y){t.next=2;break}throw new Error("Argument must be an instance of Transaction");case 2:if(r.isSigned()){t.next=4;break}throw new Error("Cannot submit an unsigned transaction");case 4:return t.next=6,g(e);case 6:if(o=t.sent,!((s=r.computeRequiredFees(o))>r.feesPaid)){t.next=12;break}throw new Error("Insufficient fees for the transaction (paid: "+r.feesPaid+", minimum required: "+s+", current EC rate: "+o+")");case 12:if(i||!(s*_<r.feesPaid)){t.next=14;break}throw new Error("Transaction is overpaying required fees by more than 10 times (paid: "+r.feesPaid+", minimum required: "+s+", current EC rate: "+o+")");case 14:return t.next=16,h.each(r.inputs,function(t){return a(e,t.address,t.amount)});case 16:return t.abrupt("return",e.call("factoid-submit",{transaction:r.marshalBinary().toString("hex")}).then(function(t){return t.txid}));case 17:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),a=function(){var t=(0,i.default)(n.default.mark(function t(e,r,i){var o,s;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.call("factoid-balance",{address:r});case 2:if(o=t.sent,!((s=o.balance)<i)){t.next=6;break}throw new Error("Address "+r+" doesn't have sufficient funds (balance: "+s+")");case 6:case"end":return t.stop()}},t,this)}));return function(e,r,n){return t.apply(this,arguments)}}(),u=function(){var t=(0,i.default)(n.default.mark(function t(e,r,i,o,s){var a;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(d(i)){t.next=2;break}throw new Error("Recipient address ["+i+"] is not a valid Factoid public address");case 2:return t.next=4,g(e);case 4:return a=t.sent,t.abrupt("return",m(r,i,o,a,s));case 6:case"end":return t.stop()}},t,this)}));return function(e,r,n,i,o){return t.apply(this,arguments)}}(),c=function(){var t=(0,i.default)(n.default.mark(function t(e,r,i,o,s){var a,u;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v(i)){t.next=2;break}throw new Error("Recipient address ["+i+"] is not a valid Entry Credit public address");case 2:return t.next=4,g(e);case 4:return a=t.sent,u=o*a,t.abrupt("return",m(r,i,u,a,s));case 7:case"end":return t.stop()}},t,this)}));return function(e,r,n,i,o){return t.apply(this,arguments)}}();function f(t){return t&&t.__esModule?t:{default:t}}var h=r(87),l=r(143).waitOnFactoidTransactionAck,p=r(15),d=p.isValidFctPublicAddress,v=p.isValidEcPublicAddress,y=r(67).Transaction,g=r(181).getEntryCreditRate,_=10;function m(t,e,r,n,i){var o=y.builder().input(t,r).output(e,r).build().computeRequiredFees(n),s=o;if(i&&i<o)throw new Error("Cannot set fees to "+i+" factoshis because the minimum required fees are "+o);return i&&(s=i),y.builder().input(t,r+s).output(e,r).build()}t.exports={sendTransaction:o,createFactoidTransaction:u,createEntryCreditPurchaseTransaction:c}},function(t,e,r){"use strict";(function(e){var n=c(r(68)),i=c(r(80)),o=c(r(27)),s=c(r(98)),a=c(r(43)),u=c(r(26));function c(t){return t&&t.__esModule?t:{default:t}}var f=r(67).Transaction,h=r(15),l=h.keyToPublicEcAddress,p=h.rcdHashToPublicFctAddress,d=r(16),v=d.ADMIN_ID_TO_CODE,y=d.ADMIN_BLOCKS_CHAIN_ID,g=d.ENTRY_CREDIT_BLOCKS_CHAIN_ID,_=d.FACTOID_BLOCKS_CHAIN_ID,m=function(){function t(e){(0,u.default)(this,t);var r=e.ablock;this.backReferenceHash=r.backreferencehash,this.lookupHash=r.lookuphash;var n=r.header;this.directoryBlockHeight=n.dbheight,this.previousBackReferenceHash=n.prevbackrefhash,this.headerExpansionSize=n.headerexpansionsize,this.headerExpansionArea=n.headerexpansionarea,this.bodySize=n.bodysize,this.entries=r.abentries.map(b),(0,a.default)(this)}return(0,o.default)(t,[{key:"getEntriesOfTypes",value:function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=new i.default(e);return this.entries.filter(function(t){return n.has(t.adminId)||n.has(t.adminCode)})}}]),t}();function b(t){var e={adminId:t.adminidtype,adminCode:v.get(t.adminidtype)},r={};switch(e.adminId){case 1:r.identityChainId=t.identityadminchainid,r.previousDirectoryBlockSignature={publicKey:t.prevdbsig.pub,signature:t.prevdbsig.sig};break;case 2:case 3:r.identityChainId=t.identitychainid,r.matryoshkaHash=t.mhash;break;case 4:r.amount=t.amount;break;case 5:case 6:case 7:r.identityChainId=t.identitychainid,r.directoryBlockHeight=t.dbheight;break;case 8:r.identityChainId=t.identitychainid,r.keyPriority=t.keypriority,r.publicKey=t.publickey,r.directoryBlockHeight=t.dbheight;break;case 9:r.identityChainId=t.identitychainid,r.keyPriority=t.keypriority,r.keyType=t.keytype,r.ecdsaPublicKey=t.ecdsapublickey;break;case 11:r.outputs=t.Outputs.map(function(t){return{address:t.useraddress,rcdHash:t.address,amount:t.amount}});break;case 12:r.descriptorHeight=t.descriptor_height,r.descriptorIndex=t.descriptor_index;break;case 13:r.identityChainId=t.IdentityChainID,r.rcdHash=t.FactoidAddress,r.factoidAddress=p(t.FactoidAddress);break;case 14:r.identityChainId=t.IdentityChainID,r.efficiency=t.Efficiency/100}return(0,n.default)(e,r)}var w=function(){function t(e){(0,u.default)(this,t);var r=e.fblock;this.keyMR=r.keymr,this.bodyMR=r.bodymr,this.previousBlockKeyMR=r.prevkeymr,this.ledgerKeyMR=r.ledgerkeymr,this.previousLedgerKeyMR=r.prevledgerkeymr,this.entryCreditRate=r.exchrate,this.directoryBlockHeight=r.dbheight,this.transactions=r.transactions.map(function(t){return new f(t)})}return(0,o.default)(t,[{key:"getCoinbaseTransaction",value:function(){return this.transactions[0]}}]),t}(),E=function(){function t(r){(0,u.default)(this,t);var n=r.ecblock;this.headerHash=n.headerhash,this.fullHash=n.fullhash;var i=n.header;this.headerExpansionArea=i.headerexpansionarea,this.bodyHash=i.bodyhash,this.previousHeaderHash=i.prevheaderhash,this.previousFullHash=i.prevfullhash,this.directoryBlockHeight=i.dbheight,this.bodySize=i.bodysize,this.objectCount=i.objectcount,this.minuteIndexes=[0],this.commits=[];var o=!0,c=!1,f=void 0;try{for(var h,p=(0,s.default)(n.body.entries);!(o=(h=p.next()).done);o=!0){var d=h.value;if(d.hasOwnProperty("number"))this.minuteIndexes.push(this.commits.length);else{if(d.hasOwnProperty("serverindexnumber"))continue;if(d.hasOwnProperty("numec"))continue;this.commits.push({version:d.version,millis:parseInt(d.millitime,16),entryHash:e.from(d.entryhash,"hex"),credits:d.credits,ecPublicKey:l(d.ecpubkey),signature:e.from(d.sig,"hex")})}}}catch(t){c=!0,f=t}finally{try{!o&&p.return&&p.return()}finally{if(c)throw f}}(0,a.default)(this)}return(0,o.default)(t,[{key:"getCommitsForMinute",value:function(t){if(t<1||t>=this.minuteIndexes.length)throw new RangeError("Minute out of range [1, "+(this.minuteIndexes.length-1)+"]");return this.commits.slice(this.minuteIndexes[t-1],this.minuteIndexes[t])}}]),t}();t.exports={DirectoryBlock:function t(e,r){(0,u.default)(this,t);var n=[];if(e.dblock){var i=e.dblock;this.keyMR=i.keymr,this.height=i.header.dbheight,this.previousBlockKeyMR=i.header.prevkeymr,this.timestamp=60*i.header.timestamp,n=i.dbentries,this.fullHash=i.dbhash,this.previousFullHash=i.header.prevfullhash,this.bodyKeyMR=i.header.bodymr}else this.keyMR=r,this.height=e.header.sequencenumber,this.timestamp=e.header.timestamp,this.previousBlockKeyMR=e.header.prevblockkeymr,n=e.entryblocklist;this.entryBlockRefs=[];var o=!0,c=!1,f=void 0;try{for(var h,l=(0,s.default)(n);!(o=(h=l.next()).done);o=!0){var p=h.value;switch(p.chainid){case y:this.adminBlockRef=p.keymr;break;case g:this.entryCreditBlockRef=p.keymr;break;case _:this.factoidBlockRef=p.keymr;break;default:this.entryBlockRefs.push({chainId:p.chainid,keyMR:p.keymr})}}}catch(t){c=!0,f=t}finally{try{!o&&l.return&&l.return()}finally{if(c)throw f}}(0,a.default)(this)},EntryBlock:function t(e,r){(0,u.default)(this,t),this.keyMR=r;var n=e.header;this.directoryBlockHeight=n.dbheight,this.timestamp=n.timestamp,this.previousBlockKeyMR=n.prevkeymr,this.chainId=n.chainid,this.sequenceNumber=n.blocksequencenumber,this.entryRefs=e.entrylist.map(function(t){return{entryHash:t.entryhash,timestamp:t.timestamp}}),(0,a.default)(this)},AdminBlock:m,FactoidBlock:w,EntryCreditBlock:E}}).call(this,r(6).Buffer)},function(t,e,r){"use strict";var n=s(r(59)),i=s(r(60)),o=function(){var t=(0,i.default)(n.default.mark(function t(e,r){var i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a(r)){t.next=2;break}throw new Error(r+" is not a valid address");case 2:if(!u.has(r.substring(0,2))){t.next=4;break}return t.abrupt("return",r);case 4:return t.next=6,e.call("address",{address:r});case 6:return i=t.sent,t.abrupt("return",i.secret);case 8:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}();function s(t){return t&&t.__esModule?t:{default:t}}var a=r(15).isValidAddress,u=r(16).PRIVATE_ADDRESS_VALID_PREFIXES;t.exports={getPrivateAddress:o}}])});